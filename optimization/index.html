<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¼˜åŒ– | ModyQyW&#39;s Site</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="alternate" type="application/atom+xml" href="https://modyqyw.top/atom.xml" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://modyqyw.top/feed.json" title=" JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://modyqyw.top/rss.xml" title=" RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/icons/w48.png" type="image/png" sizes="48x48">
    <link rel="icon" href="/icons/w72.png" type="image/png" sizes="72x72">
    <link rel="icon" href="/icons/w96.png" type="image/png" sizes="96x96">
    <link rel="icon" href="/icons/w144.png" type="image/png" sizes="144x144">
    <link rel="icon" href="/icons/w168.png" type="image/png" sizes="168x168">
    <link rel="icon" href="/icons/w192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/icons/w256.png" type="image/png" sizes="256x256">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/icons/w48.png">
    <meta name="description" content="åŸºäº vuepress å’Œ vuepress-theme-hope æ‰“é€ çš„ä¸ªäººç½‘ç«™ï¼Œå¦‚æœ‰é—®é¢˜è¯·å°è¯•å¼ºåˆ¶åˆ·æ–°ã€‚">
    <meta property="og:url" content="/optimization/">
    <meta property="og:title" content="ä¼˜åŒ–">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="article:author" content="ModyQyW <wurui7@mail3.sysu.edu.cn>">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/w48.png">
    <meta name="msapplication-TileColor" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.aae05d4a.css" as="style"><link rel="preload" href="/assets/js/app.97090625.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.2575cae3.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.98c9c1a5.js" as="script"><link rel="preload" href="/assets/js/page-ä¼˜åŒ–.4906bffb.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.ec478e91.js" as="script"><link rel="prefetch" href="/assets/js/19.97cb309d.js"><link rel="prefetch" href="/assets/js/layout-Blog.436e05ac.js"><link rel="prefetch" href="/assets/js/layout-Layout.54347a9b.js"><link rel="prefetch" href="/assets/js/layout-NotFound.e98815ff.js"><link rel="prefetch" href="/assets/js/layout-Slide.144d7ab1.js"><link rel="prefetch" href="/assets/js/page-Home.002f9c71.js"><link rel="prefetch" href="/assets/js/page-Webpack4.88b01faa.js"><link rel="prefetch" href="/assets/js/page-å…³äº.a4cdc67a.js"><link rel="prefetch" href="/assets/js/page-å­¦ä¹ è·¯å¾„.bca4e2aa.js"><link rel="prefetch" href="/assets/js/page-å®‰å…¨.c44b341e.js"><link rel="prefetch" href="/assets/js/page-å¼€å‘.a8ee4af1.js"><link rel="prefetch" href="/assets/js/page-æ‚è°ˆ.98b98957.js"><link rel="prefetch" href="/assets/js/page-ç¯å¢ƒé…ç½®.85f14af6.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.eb4db7e8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aae05d4a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">ä¸»é¢˜è‰²:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">ä¸»é¢˜æ¨¡å¼:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/roadmap/" class="nav-link"><!---->
  å­¦ä¹ è·¯å¾„
</a></div><div class="nav-item"><a href="/environment/" class="nav-link"><!---->
  ç¯å¢ƒé…ç½®
</a></div><div class="nav-item"><a href="/development/" class="nav-link"><!---->
  å¼€å‘
</a></div><div class="nav-item"><a href="/optimization/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><!---->
  ä¼˜åŒ–
</a></div><div class="nav-item"><a href="/safety/" class="nav-link"><!---->
  å®‰å…¨
</a></div><div class="nav-item"><a href="/webpack4/" class="nav-link"><!---->
  Webpack4
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><!---->
  å…³äº
</a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/ModyQyW/modyqyw.github.io" target="_blank" class="repo-link can-hide">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/roadmap/" class="nav-link"><!---->
  å­¦ä¹ è·¯å¾„
</a></div><div class="nav-item"><a href="/environment/" class="nav-link"><!---->
  ç¯å¢ƒé…ç½®
</a></div><div class="nav-item"><a href="/development/" class="nav-link"><!---->
  å¼€å‘
</a></div><div class="nav-item"><a href="/optimization/" aria-current="page" class="nav-link router-link-exact-active router-link-active active"><!---->
  ä¼˜åŒ–
</a></div><div class="nav-item"><a href="/safety/" class="nav-link"><!---->
  å®‰å…¨
</a></div><div class="nav-item"><a href="/webpack4/" class="nav-link"><!---->
  Webpack4
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><!---->
  å…³äº
</a></div> <a rel="noopener noreferrer" href="https://github.com/ModyQyW/modyqyw.github.io" target="_blank" class="repo-link">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">ä¼˜åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/optimization/#è¯´æ˜" class="sidebar-link">è¯´æ˜</a></li><li><a href="/optimization/#å¤„ç†æ¡ä»¶åˆ†æ”¯-é¿å…ä»£ç å †å " class="sidebar-link">å¤„ç†æ¡ä»¶åˆ†æ”¯ï¼Œé¿å…ä»£ç å †å </a></li><li><a href="/optimization/#ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š" class="sidebar-link">ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š</a></li><li><a href="/optimization/#ç•™æ„å±€éƒ¨æ€§-é¿å…æ€§èƒ½åŠ£åŒ–" class="sidebar-link">ç•™æ„å±€éƒ¨æ€§ï¼Œé¿å…æ€§èƒ½åŠ£åŒ–</a></li><li><a href="/optimization/#å…‹åˆ¶åœ°æ“ä½œ-dom-å‡å°‘é‡æ–°æ¸²æŸ“" class="sidebar-link">å…‹åˆ¶åœ°æ“ä½œ DOMï¼Œå‡å°‘é‡æ–°æ¸²æŸ“</a></li><li><a href="/optimization/#é¼“åŠ±æ›´æ–°-å‡å°‘ä¸å¿…è¦å…¼å®¹" class="sidebar-link">é¼“åŠ±æ›´æ–°ï¼Œå‡å°‘ä¸å¿…è¦å…¼å®¹</a></li><li><a href="/optimization/#ç¡®å®šæ ‡ç­¾çš„ä½ç½®-é¿å…è§£æé˜»å¡" class="sidebar-link">ç¡®å®šæ ‡ç­¾çš„ä½ç½®ï¼Œé¿å…è§£æé˜»å¡</a></li><li><a href="/optimization/#åˆç†æ„å»º-å‡å°‘è¯·æ±‚çš„æ—¶é—´" class="sidebar-link">åˆç†æ„å»ºï¼Œå‡å°‘è¯·æ±‚çš„æ—¶é—´</a></li><li><a href="/optimization/#åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„" class="sidebar-link">åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„</a></li><li><a href="/optimization/#ä½¿ç”¨-lighthouse-è¾…åŠ©åˆ†æ" class="sidebar-link">ä½¿ç”¨ LightHouse è¾…åŠ©åˆ†æ</a></li><li><a href="/optimization/#æ‰‹åŠ¨ä¼˜åŒ–-vue" class="sidebar-link">æ‰‹åŠ¨ä¼˜åŒ– vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/optimization/#å‡½æ•°å¼ç»„ä»¶" class="sidebar-link heading3">å‡½æ•°å¼ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/optimization/#æ”¹å–„-seo" class="sidebar-link heading3">æ”¹å–„ SEO</a></li><li class="sidebar-sub-header"><a href="/optimization/#å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±" class="sidebar-link heading3">å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±</a></li><li class="sidebar-sub-header"><a href="/optimization/#åˆç†ä½¿ç”¨-vuex" class="sidebar-link heading3">åˆç†ä½¿ç”¨ vuex</a></li></ul></li><li><a href="/optimization/#æ‰‹åŠ¨ä¼˜åŒ–-react" class="sidebar-link">æ‰‹åŠ¨ä¼˜åŒ– react</a></li><li><a href="/optimization/#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li><li><a href="/optimization/#è‡´è°¢" class="sidebar-link">è‡´è°¢</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">ä¼˜åŒ–</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-7-5</span></span><!----><!----><span aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>å¤§çº¦ 24 åˆ†é’Ÿ</span> <meta property="timeRequired" content="PT24M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/optimization/#è¯´æ˜" class="anchor-link heading2"><div>è¯´æ˜</div></a></li><li class="anchor"><a href="/optimization/#å¤„ç†æ¡ä»¶åˆ†æ”¯-é¿å…ä»£ç å †å " class="anchor-link heading2"><div>å¤„ç†æ¡ä»¶åˆ†æ”¯ï¼Œé¿å…ä»£ç å †å </div></a></li><li class="anchor"><a href="/optimization/#ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š" class="anchor-link heading2"><div>ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š</div></a></li><li class="anchor"><a href="/optimization/#ç•™æ„å±€éƒ¨æ€§-é¿å…æ€§èƒ½åŠ£åŒ–" class="anchor-link heading2"><div>ç•™æ„å±€éƒ¨æ€§ï¼Œé¿å…æ€§èƒ½åŠ£åŒ–</div></a></li><li class="anchor"><a href="/optimization/#å…‹åˆ¶åœ°æ“ä½œ-dom-å‡å°‘é‡æ–°æ¸²æŸ“" class="anchor-link heading2"><div>å…‹åˆ¶åœ°æ“ä½œ DOMï¼Œå‡å°‘é‡æ–°æ¸²æŸ“</div></a></li><li class="anchor"><a href="/optimization/#é¼“åŠ±æ›´æ–°-å‡å°‘ä¸å¿…è¦å…¼å®¹" class="anchor-link heading2"><div>é¼“åŠ±æ›´æ–°ï¼Œå‡å°‘ä¸å¿…è¦å…¼å®¹</div></a></li><li class="anchor"><a href="/optimization/#ç¡®å®šæ ‡ç­¾çš„ä½ç½®-é¿å…è§£æé˜»å¡" class="anchor-link heading2"><div>ç¡®å®šæ ‡ç­¾çš„ä½ç½®ï¼Œé¿å…è§£æé˜»å¡</div></a></li><li class="anchor"><a href="/optimization/#åˆç†æ„å»º-å‡å°‘è¯·æ±‚çš„æ—¶é—´" class="anchor-link heading2"><div>åˆç†æ„å»ºï¼Œå‡å°‘è¯·æ±‚çš„æ—¶é—´</div></a></li><li class="anchor"><a href="/optimization/#åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„" class="anchor-link heading2"><div>åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„</div></a></li><li class="anchor"><a href="/optimization/#ä½¿ç”¨-lighthouse-è¾…åŠ©åˆ†æ" class="anchor-link heading2"><div>ä½¿ç”¨ LightHouse è¾…åŠ©åˆ†æ</div></a></li><li class="anchor"><a href="/optimization/#æ‰‹åŠ¨ä¼˜åŒ–-vue" class="anchor-link heading2"><div>æ‰‹åŠ¨ä¼˜åŒ– vue</div></a></li><li class="anchor"><a href="/optimization/#å‡½æ•°å¼ç»„ä»¶" class="anchor-link heading3"><div>å‡½æ•°å¼ç»„ä»¶</div></a></li><li class="anchor"><a href="/optimization/#æ”¹å–„-seo" class="anchor-link heading3"><div>æ”¹å–„ SEO</div></a></li><li class="anchor"><a href="/optimization/#å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±" class="anchor-link heading3"><div>å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±</div></a></li><li class="anchor"><a href="/optimization/#åˆç†ä½¿ç”¨-vuex" class="anchor-link heading3"><div>åˆç†ä½¿ç”¨ vuex</div></a></li><li class="anchor"><a href="/optimization/#æ‰‹åŠ¨ä¼˜åŒ–-react" class="anchor-link heading2"><div>æ‰‹åŠ¨ä¼˜åŒ– react</div></a></li><li class="anchor"><a href="/optimization/#å‚è€ƒ" class="anchor-link heading2"><div>å‚è€ƒ</div></a></li><li class="anchor"><a href="/optimization/#è‡´è°¢" class="anchor-link heading2"><div>è‡´è°¢</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="header-anchor">#</a> ä¼˜åŒ–</h1> <h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="header-anchor">#</a> è¯´æ˜</h2> <ul><li>å½¢å¼ï¼šå°½é‡å£è¯­åŒ–çš„ç¬”è®°å’Œç¤ºä¾‹ã€‚</li> <li>é€‚ç”¨ï¼šå¯¹ <code>vue</code> å’Œ <code>react</code> åº•å±‚ï¼Œæµè§ˆå™¨åº•å±‚ï¼Œjs å¼•æ“æœ‰åŸºæœ¬äº†è§£ï¼Œæƒ³è¦äº†è§£å‰ç«¯ä¼˜åŒ–çš„å¼€å‘è€…ã€‚</li> <li>ç›®æ ‡ï¼šäº†è§£å‰ç«¯é¡¹ç›®çš„å¯ç”¨ä¼˜åŒ–ï¼ŒåŒ…æ‹¬å¼€å‘ã€ç¼–è¯‘å’Œè¿è¡Œï¼Œè¿™äº›ä¼˜åŒ–ä¸€èˆ¬éœ€è¦æ‰‹åŠ¨å¤„ç†ï¼Œè€Œä¸åŒ…å«åœ¨å„ç±» Linter è§„åˆ™åˆæˆ–æ˜¯å®˜æ–¹æ–‡æ¡£è¯´æ˜é‡Œé¢ã€‚</li> <li>çŠ¶æ€ï¼šç›®å‰å¤„äºå®Œå–„ä¸­çŠ¶æ€ï¼Œå¯èƒ½ä¼šæœ‰é—æ¼ã€é”™è¯¯ã€ä¸å®Œç¾ï¼Œä½†å·²ç»å¯ä»¥æ­£å¸¸é˜…è¯»ã€‚å¦‚æœä½ å‘ç°äº†é”™è¯¯ï¼Œè¯·åœ¨è¯„è®ºé‡Œå‘Šè¯‰æˆ‘ï¼Œè°¢è°¢ã€‚</li></ul> <h2 id="å¤„ç†æ¡ä»¶åˆ†æ”¯-é¿å…ä»£ç å †å "><a href="#å¤„ç†æ¡ä»¶åˆ†æ”¯-é¿å…ä»£ç å †å " class="header-anchor">#</a> å¤„ç†æ¡ä»¶åˆ†æ”¯ï¼Œé¿å…ä»£ç å †å </h2> <p>å‡å®šç°åœ¨éœ€è¦å®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶çš„å‚æ•°æ˜¯æ•°å­—ï¼Œè¿”å›çš„å‚æ•°æ˜¯é¢œè‰²å€¼å­—ç¬¦ä¸²ã€‚ä¼ å…¥ 13 çš„æ—¶å€™è¿”å›é»‘è‰²ï¼Œå…¶ä»–æƒ…å†µè¿”å›ç™½è‰²ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getColorString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'#000'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å‡å¦‚ç°åœ¨éœ€è¦ä¼ å…¥ 2 çš„æ—¶å€™è¿”å› <code>#fafafa</code>ï¼Œä¼ å…¥ 3 çš„æ—¶å€™è¿”å› <code>#f5f5f5</code>ã€‚ä½ å¯èƒ½ä¼šç»§ç»­æ‰©å±• <code>if ... else ...</code> ä»£ç å—ï¼Œåƒä¸‹é¢è¿™æ ·ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getColorString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'#fafafa'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'#f5f5f5'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'#000'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¿™ä¹Ÿå¤ªæ²¡å®Œæ²¡äº†äº†ï¼Œé•¿æ­¤ä»¥å¾€å°†ä¼šæœ‰å †å å¦‚å±±çš„ <code>if ... else ...</code> å—å‡ºç°ã€‚æˆ‘å»ºè®®ï¼Œå½“ <code>if ... else ...</code> å—è¾¾åˆ° 3 æˆ–ä»¥ä¸Šçš„æ—¶å€™ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ switch äº†ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getColorString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">'#fafafa'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">'#f5f5f5'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">13</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">'#000'</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>æ¯«æ— ç–‘é—®ï¼Œç»§ç»­æ·»åŠ  case ä¹Ÿä¼šè®© case å †å èµ·æ¥ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œè€ƒè™‘ä½¿ç”¨ Array æ¥å¤„ç†è¶Šæ¥è¶Šå¤šçš„ case æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'#fff'</span><span class="token punctuation">,</span>
  <span class="token string">'#fafafa'</span><span class="token punctuation">,</span>
  <span class="token string">'#f5f5f5'</span><span class="token punctuation">,</span>
  <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
  <span class="token string">'#d9d9d9'</span><span class="token punctuation">,</span>
  <span class="token string">'#bfbfbf'</span><span class="token punctuation">,</span>
  <span class="token string">'#8c8c8c'</span><span class="token punctuation">,</span>
  <span class="token string">'#595959'</span><span class="token punctuation">,</span>
  <span class="token string">'#434343'</span><span class="token punctuation">,</span>
  <span class="token string">'#262626'</span><span class="token punctuation">,</span>
  <span class="token string">'#1f1f1f'</span><span class="token punctuation">,</span>
  <span class="token string">'#141414'</span><span class="token punctuation">,</span>
  <span class="token string">'#000'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getColorString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> colors<span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token operator">||</span> colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>å¦‚æœè¯´è¦ä¼ å…¥å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä½¿ç”¨ Object æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> colorObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'gray-1'</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-2'</span><span class="token operator">:</span> <span class="token string">'#fafafa'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-3'</span><span class="token operator">:</span> <span class="token string">'#f5f5f5'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-4'</span><span class="token operator">:</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-5'</span><span class="token operator">:</span> <span class="token string">'#d9d9d9'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-6'</span><span class="token operator">:</span> <span class="token string">'#bfbfbf'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-7'</span><span class="token operator">:</span> <span class="token string">'#8c8c8c'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-8'</span><span class="token operator">:</span> <span class="token string">'#595959'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-9'</span><span class="token operator">:</span> <span class="token string">'#434343'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-10'</span><span class="token operator">:</span> <span class="token string">'#262626'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-11'</span><span class="token operator">:</span> <span class="token string">'#1f1f1f'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-12'</span><span class="token operator">:</span> <span class="token string">'#141414'</span><span class="token punctuation">,</span>
  <span class="token string">'gray-13'</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getColorString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">colorName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> colorObject<span class="token punctuation">[</span>colorName<span class="token punctuation">]</span> <span class="token operator">||</span> colorObject<span class="token punctuation">[</span><span class="token string">'gray-1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>å¦‚æœä½ ç†Ÿæ‚‰ Mapï¼Œä½¿ç”¨ Map ä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> colorMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'gray-1'</span><span class="token punctuation">,</span> <span class="token string">'#fff'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-2'</span><span class="token punctuation">,</span> <span class="token string">'#fafafa'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-3'</span><span class="token punctuation">,</span> <span class="token string">'#f5f5f5'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-4'</span><span class="token punctuation">,</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-5'</span><span class="token punctuation">,</span> <span class="token string">'#d9d9d9'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-6'</span><span class="token punctuation">,</span> <span class="token string">'#bfbfbf'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-7'</span><span class="token punctuation">,</span> <span class="token string">'#8c8c8c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-8'</span><span class="token punctuation">,</span> <span class="token string">'#595959'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-9'</span><span class="token punctuation">,</span> <span class="token string">'#434343'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-10'</span><span class="token punctuation">,</span> <span class="token string">'#262626'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-11'</span><span class="token punctuation">,</span> <span class="token string">'#1f1f1f'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-12'</span><span class="token punctuation">,</span> <span class="token string">'#141414'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'gray-13'</span><span class="token punctuation">,</span> <span class="token string">'#000'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getColorString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">colorName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> colorMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>colorName<span class="token punctuation">)</span> <span class="token operator">||</span> colorMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'gray-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>è¿™ä¹ˆåšçš„å¥½å¤„å°±æ˜¯åˆ†ç¦»äº†æ•°æ®æºå’Œæ“ä½œï¼Œé¿å…äº†ä¸å¿…è¦çš„å †å ï¼Œåœ¨æ”¹åŠ¨æ—¶æ›´åŠ æ–¹ä¾¿æ˜ç¡®ã€‚</p> <p>å¦‚æœä½¿ç”¨äº† <code>vue</code> å…¨å®¶æ¡¶ï¼Œç»“åˆè®¡ç®—å±æ€§ä¹Ÿèƒ½å†™å‡ºç±»ä¼¼çš„ä»£ç ã€‚</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ä¸€ä¸ªä¼ å…¥é¢œè‰²ä¸‹æ ‡ï¼Œæ˜¾ç¤ºå¯¹åº”é¢œè‰²å€¼çš„ vue å•æ–‡ä»¶ç»„ä»¶ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ color }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    index<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¯»å–æ•°ç»„ colorsï¼Œæ•°æ®æºæ˜¯ this.$store.state.colors</span>
    <span class="token comment">// æˆ‘ä»¬åªéœ€è¦æ‹¿åˆ° colors å°±å¯ä»¥äº†ï¼Œæ— éœ€å…³å¿ƒæ•°æ®æºå†…éƒ¨å¦‚ä½•è¿ä½œ</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">colors</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>colors<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// è®¾ç½®éœ€è¦æ˜¾ç¤ºçš„é¢œè‰²å€¼ï¼Œé»˜è®¤ä¸º #fff</span>
    <span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'#fff'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š"><a href="#ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š" class="header-anchor">#</a> ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç»‘å®š</h2> <p>å‡å¦‚ä½ æœ‰ä¸‹é¢è¿™ä¹ˆä¸€æ®µæ ¸å¿ƒçš„ html ä»£ç ï¼Œéœ€è¦ç›‘å¬æ‰€æœ‰ <code>li</code> å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>c<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¾ˆè‡ªç„¶åœ°ä¼šå‡ºç°ä¸€ç§æƒ³æ³•ï¼Œé‚£å°±æ˜¯ç›´æ¥ç›‘å¬æ¯ä¸ª <code>li</code> æ ‡ç­¾çš„ç‚¹å‡»äº‹ä»¶ã€‚</p> <img src="/images/optimization/event-delegation-1.svg" alt="äº‹ä»¶å§”æ‰˜ 1"> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å¦‚æœä½ ä¸äº†è§£ document.querySelectorAll</span>
<span class="token comment">// æˆ–è®¸ä½ éœ€è¦å†å»å­¦ä¹ ä¸€ä¸‹ js åŸºç¡€</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿™ç§æƒ³æ³•è™½ç„¶ç›´è§‚ï¼Œä½†æ€§èƒ½æ¯”è¾ƒå·®ï¼Œå› ä¸ºå®ƒæ·»åŠ äº† 3 ä¸ªç›‘å¬äº‹ä»¶ã€‚</p> <p>å¦‚æœåªç›‘å¬ <code>li</code> çš„çˆ¶å…ƒç´  <code>ul</code> å¹¶æ ¹æ® <code>event</code> æ¥åˆ¤æ–­ï¼Œæˆ‘ä»¬å°±çœå»äº† 2 ä¸ªç›‘å¬äº‹ä»¶ï¼Œæ¶ˆè€—çš„æµè§ˆå™¨èµ„æºä¹Ÿæ›´å°‘ã€‚</p> <img src="/images/optimization/event-delegation-2.svg" alt="äº‹ä»¶å§”æ‰˜ 2"> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> target <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'li'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚æœè¦ä¸ºå¤§é‡å…ƒç´ éƒ½ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œä¸å¦‚åœ¨å®ƒä»¬å…±åŒçš„çˆ¶å…ƒç´ ä¸Šç»‘å®šä¸€ä¸ªäº‹ä»¶ä»¥åšå¤„ç†ï¼Œè¿™å°±æ˜¯äº‹ä»¶å§”æ‰˜ã€‚å®ƒèƒ½æœ‰æ•ˆåœ°å‡å°‘ç»‘å®šçš„äº‹ä»¶ï¼Œå‡å°‘æµè§ˆå™¨ä½¿ç”¨çš„å†…å­˜ã€‚</p> <h2 id="ç•™æ„å±€éƒ¨æ€§-é¿å…æ€§èƒ½åŠ£åŒ–"><a href="#ç•™æ„å±€éƒ¨æ€§-é¿å…æ€§èƒ½åŠ£åŒ–" class="header-anchor">#</a> ç•™æ„å±€éƒ¨æ€§ï¼Œé¿å…æ€§èƒ½åŠ£åŒ–</h2> <p>å±€éƒ¨æ€§åŸç† Locality æ˜¯æ“ä½œç³»ç»Ÿé‡Œé¢çš„ä¸€ä¸ªæ¦‚å¿µï¼ŒæŒ‡ CPU è®¿é—®å­˜å‚¨å™¨æ—¶è®¿é—®çš„å­˜å‚¨å•å…ƒéƒ½è¶‹äºèšé›†åœ¨ä¸€ä¸ªè¾ƒå°çš„è¿ç»­åŒºåŸŸå†…ï¼Œè¿™æœ‰åˆ©äºæé«˜è®¿é—®é€Ÿåº¦ã€‚å¦‚æœä½ ä¸äº†è§£æ“ä½œç³»ç»Ÿçš„æ¦‚å¿µï¼Œå¤§å¯ä»¥ç›´æ¥è·³åˆ°è¿™éƒ¨åˆ†çš„ç»“å°¾çœ‹æˆ‘ç»™å‡ºçš„å»ºè®®ã€‚</p> <p>ç”±äº js éƒ½è¿è¡Œåœ¨ js å¼•æ“ä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸“é—¨å¤„ç† js å¼•æ“çš„è™šæ‹Ÿæœºä¸Šï¼Œè™šæ‹Ÿæœºä¹Ÿç±»ä¼¼äºä¸€ä¸ªå°å‹æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥å±€éƒ¨æ€§åŸç†ä¹Ÿå¯ä»¥è¿ç§»åˆ° js ä¸Šã€‚</p> <p>å±€éƒ¨æ€§æœ‰ä¸‰ç§ã€‚</p> <ul><li>æ—¶é—´å±€éƒ¨æ€§ - è¢«è®¿é—®ä¸€æ¬¡çš„å†…å­˜ä½ç½®åœ¨çŸ­æœŸå†…å¾ˆå¯èƒ½è¢«å†æ¬¡è®¿é—®ã€‚</li> <li>ç©ºé—´å±€éƒ¨æ€§ - æœªæ¥è®¿é—®çš„å†…å­˜ä½ç½®å¾ˆå¯èƒ½å’Œå½“å‰è®¿é—®çš„å†…å­˜ä½ç½®ç›¸é‚»ã€‚</li> <li>é¡ºåºå±€éƒ¨æ€§ - å¤§éƒ¨åˆ†æŒ‡ä»¤æ˜¯é¡ºåºè¿›è¡Œçš„ã€‚</li></ul> <p>å› ä¸ºæ—¶é—´å±€éƒ¨æ€§å’Œé¡ºåºå±€éƒ¨æ€§å’Œå¼•æ“ç›¸å…³æ€§è¾ƒå¤§ï¼Œæˆ‘ä»¬éš¾ä»¥æ–½åŠ å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡ç‚¹å…³æ³¨ä¸€ä¸‹ç©ºé—´å±€éƒ¨æ€§ã€‚</p> <p>ä¸å¦¨å…ˆè€ƒè™‘éå†ä¸€ä¸ªè¾ƒå¤§çš„äºŒç»´æ•°ç»„ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ„é€ ä¸€ä¸ªæ•°ç»„</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> j <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sum<span class="token punctuation">;</span>
<span class="token keyword">let</span> timestamp<span class="token punctuation">;</span>

<span class="token comment">// éå†æ–¹æ³• 1</span>
timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> row <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> col <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> col <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> array<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// éå†æ–¹æ³• 2</span>
timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> col <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> col <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> row <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> array<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>æˆ‘ä»¬çš„é‡ç‚¹ä¸åœ¨ <code>sum</code> çš„ç»“æœï¼Œè€Œåœ¨ä¸¤ç§æ–¹æ³•çš„è€—æ—¶ã€‚</p> <p>æµ‹è¯•ç¯å¢ƒå¦‚ä¸‹ã€‚</p> <table><tr><td>æœºå‹</td> <td>MacBook Pro (15-inch, 2018)</td></tr> <tr><td>ç³»ç»Ÿ</td> <td>macOS Big Sur 11.2</td></tr> <tr><td>å¤„ç†å™¨</td> <td>2.6 GHz å…­æ ¸Intel Core i7</td></tr> <tr><td>å†…å­˜</td> <td>16 GB 2400 MHz DDR4</td></tr> <tr><td>æµè§ˆå™¨</td> <td>Microsoft Edge 88.0.705.68</td></tr></table> <p>éå†æ–¹æ³• 1 çš„è€—æ—¶åœ¨ 0.98 ç§’å·¦å³æ³¢åŠ¨ï¼Œè€Œéå†æ–¹æ³• 2 çš„è€—æ—¶åœ¨ 3.85 ç§’å·¦å³æ³¢åŠ¨ï¼Œéå†æ–¹æ³• 2 ä½¿ç”¨çš„æ—¶é—´å‡ ä¹æ˜¯éå†æ–¹æ³• 1 çš„ 4 å€ã€‚</p> <p>è¿™å’Œ js å¼•æ“æ€ä¹ˆå¤„ç†æ•°ç»„è¿™ç§å¼•ç”¨ç±»å‹æœ‰å…³ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œjs å¼•æ“ä¼šæŠŠæ•°ç»„æŒ‰è¡Œé¡ºåºå­˜æ”¾åœ¨å†…å­˜é‡Œï¼Œæ‰€ä»¥å…ˆè®¿é—®åŒä¸€è¡Œçš„æ•°æ®ï¼ˆå…ˆè®¿é—® <code>array[0][0]</code> å†è®¿é—® <code>array[0][1]</code>ï¼‰è¦æ¯”å…ˆè®¿é—®åŒä¸€åˆ—çš„æ•°æ®ï¼ˆå…ˆè®¿é—® <code>array[0][0]</code> å†è®¿é—® <code>array[1][0]</code>ï¼‰è¦å¿«ï¼Œåœ¨åˆ—æ•°è¾ƒå¤šçš„æƒ…å†µä¸‹é€Ÿåº¦å·®è·è¡¨ç°å°¤å…¶æ˜æ˜¾ã€‚</p> <p>ä¸€ä¸ªå»ºè®®æ˜¯ï¼ŒæŒ‰ç…§è®¿é—®é¡ºåºæ¥è®¿é—® Array å’Œ Objectã€‚</p> <p>è®¿é—® Array å¯ä»¥ä½¿ç”¨ <code>Array.prototype.forEach</code> æˆ– <code>Array.prototype.entries</code>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>for</code> å’Œ <code>while</code> éå†ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> element<span class="token punctuation">]</span> <span class="token keyword">of</span> array<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è€Œå¯¹è±¡çš„è®¿é—®é¡ºåºå¯ä»¥ä½¿ç”¨ <code>Object.keys</code> è·å–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Object.entries</code>ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> object<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> key<span class="token punctuation">]</span> <span class="token keyword">of</span> keys<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> object<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> object<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="å…‹åˆ¶åœ°æ“ä½œ-dom-å‡å°‘é‡æ–°æ¸²æŸ“"><a href="#å…‹åˆ¶åœ°æ“ä½œ-dom-å‡å°‘é‡æ–°æ¸²æŸ“" class="header-anchor">#</a> å…‹åˆ¶åœ°æ“ä½œ DOMï¼Œå‡å°‘é‡æ–°æ¸²æŸ“</h2> <p>æµè§ˆå™¨ä½¿ç”¨ HTML Parserï¼ˆHTML è§£æå™¨ï¼‰è§£æ HTML æ–‡ä»¶ï¼Œå¾—åˆ° DOM Treeï¼ˆDOM æ ‘ï¼ŒDOM å³ Document Object Modelï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ã€‚</p> <p>å¯¹äº CSS æ–‡ä»¶ï¼Œæµè§ˆå™¨ä½¿ç”¨ CSS Parserï¼ˆCSS è§£æå™¨ï¼‰è§£æï¼Œå¾—åˆ° Style Rulesï¼ˆä¹Ÿå¯ä»¥å« CSSOMï¼ŒCSS Object Modelï¼Œå±‚å æ ·å¼è¡¨å¯¹è±¡æ¨¡å‹ï¼‰ã€‚</p> <p>ä¹‹åï¼Œæµè§ˆå™¨ä¼šç»“åˆ DOM Tree å’Œ Style Rulesï¼Œç”Ÿæˆ Render Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰èŠ‚ç‚¹çš„æ ·å¼ä¿¡æ¯ã€‚</p> <p>æµè§ˆå™¨ç”Ÿæˆå¸ƒå±€ layoutï¼Œå†å°†å¸ƒå±€ç»˜åˆ¶ paintï¼Œæ˜¾ç¤ºç»™ç”¨æˆ·æŸ¥çœ‹ã€‚è€Œç”Ÿæˆå¸ƒå±€å’Œç»˜åˆ¶è¿™ä¸¤æ­¥åˆç§°ä¸ºæ¸²æŸ“ renderï¼Œè€—æ—¶ç›¸å½“å¤šã€‚</p> <p>ä¸‹é¢çš„å›¾ç¤ºå›Šæ‹¬äº†ä»¥ä¸Šçš„æ­¥éª¤ã€‚</p> <p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015091502.png" alt="æµè§ˆå™¨å·¥ä½œåŸç†"></p> <p><a href="https://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html" target="_blank" rel="noopener noreferrer">å›¾æº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æ¸²æŸ“è‡³å°‘ä¼šè¿›è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ‰“å¼€ç½‘ç«™çš„é‚£ä¸€æ¬¡ã€‚ä¹‹åï¼Œå¦‚æœè¿›è¡Œäº†ç‰¹å®šçš„æ“ä½œï¼Œå°±ä¼šå¯¼è‡´é‡æ–°æ¸²æŸ“ rerenderï¼Œä¹Ÿå°±å¯¼è‡´äº†é‡æ–°ç”Ÿæˆå¸ƒå±€ï¼ˆç®€ç§°é‡æ’ reflowï¼‰å’Œé‡æ–°ç»˜åˆ¶ï¼ˆç®€ç§°é‡ç»˜ repaintï¼‰ã€‚</p> <p>éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œé‡ç»˜ä¸ä¸€å®šå¯¼è‡´é‡æ’ï¼Œä½†é‡æ’ä¸€å®šå¯¼è‡´é‡ç»˜ã€‚</p> <p>æ¯”å¦‚æ”¹å˜æ–‡å­—é¢œè‰²ï¼Œåªä¼šå¯¼è‡´é‡ç»˜ï¼Œè€Œæ”¹å˜æ–‡å­—ä½ç½®å°±ä¼šå¯¼è‡´é‡æ’å’Œé‡ç»˜ã€‚é‡æ’å’Œé‡ç»˜ä¸èƒ½é¿å…ï¼Œä½†å¯ä»¥å‡å°‘ï¼Œåªè¦å‡å°‘é‡æ’å’Œé‡ç»˜ï¼Œå°±èƒ½æœ‰æ•ˆåœ°æé«˜ç½‘é¡µæ€§èƒ½ã€‚</p> <p>ä¸€ä¸ªç®€å•æœ‰æ•ˆçš„å»ºè®®å°±æ˜¯ï¼Œå¯¹ DOM çš„è¯»æ“ä½œå’Œå†™æ“ä½œåº”å°½é‡åˆ†å¼€ï¼Œè¯»æ“ä½œæ”¾åœ¨ä¸€èµ·ï¼Œå†™æ“ä½œå¦å¤–æ”¾åœ¨ä¸€èµ·ã€‚è¿™æ ·èƒ½è®©æµè§ˆå™¨æŠŠå˜åŠ¨é›†ä¸­åœ¨ä¸€èµ·ç»Ÿä¸€å¤„ç†ï¼Œé¿å…è§¦å‘å¤šæ¬¡é‡æ’å’Œé‡ç»˜ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// bad</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> marginTop <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æµè§ˆå™¨è¢«è¿«é‡æ–°æ¸²æŸ“</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token punctuation">(</span>margin <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> offsetTop  <span class="token operator">=</span> div<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> top <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span> <span class="token comment">// æµè§ˆå™¨ç»Ÿä¸€å¤„ç†</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ä¸€èˆ¬åœ°ï¼Œå¦‚æœå†™æ“ä½œåè¯»å–å…ƒç´ çš„ä½ç½®ç›¸å…³ä¿¡æ¯ï¼Œå°±ä¼šå¯¼è‡´ç«‹å³é‡æ–°æ¸²æŸ“ã€‚ä¸‹é¢åˆ—å†™äº†è¯»å–å…ƒç´ çš„ä½ç½®ç›¸å…³ä¿¡æ¯çš„å±æ€§æˆ–æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…è¿™ç§å¯¼è‡´ç«‹å³é‡æ–°æ¸²æŸ“çš„æ“ä½œã€‚</p> <table><tr><td><code>Element.offset{Top|Right|Bottom|Left}</code></td> <td><code>Element.scroll{Top|Right|Bottom|Left}</code></td></tr> <tr><td><code>Element.client{Top|Right|Bottom|Left}</code></td> <td><code>window.getComputedStyle</code></td></tr></table> <p>å¦ä¸€ä¸ªè¡Œä¹‹æœ‰æ•ˆçš„å»ºè®®å°±æ˜¯ï¼Œå°½é‡é¿å…è¿‡å¤šåœ°ç›´æ¥æ“ä½œé <code>display: none</code> çš„å¤„äºæ­£å¸¸æ–‡æ¡£æµçš„ DOM å…ƒç´ ã€‚è¿™ä¸ªå»ºè®®éœ€è¦æ‹†åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†æ¥é˜è¿°ã€‚</p> <p>é¦–å…ˆæ˜¯â€œç›´æ¥æ“ä½œâ€ã€‚ç›´æ¥æ“ä½œå¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„é‡æ–°æ¸²æŸ“ã€‚ä½ å¯ä»¥æ“ä½œ <a href="https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment" target="_blank" rel="noopener noreferrer">DocumentFragment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œæ“ä½œå®ŒæˆååŠ å…¥åˆ° DOM å†…ï¼›åˆæˆ–è€…å…‹éš†èŠ‚ç‚¹ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode" target="_blank" rel="noopener noreferrer">Node.cloneNode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç„¶åæ“ä½œï¼Œæœ€åç”¨æ–°èŠ‚ç‚¹æ›¿æ¢åŸèŠ‚ç‚¹ã€‚</p> <p>ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯â€œé <code>display: none</code> çš„å…ƒç´ â€ã€‚<code>display: none</code> çš„å…ƒç´ ä¸ä¼šå½±å“é‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥å¯ä»¥ç»™ä¸€ä¸ªéœ€è¦å¤šæ¬¡æ“ä½œçš„èŠ‚ç‚¹è®¾ç½® <code>display: none</code>ï¼Œæ“ä½œå®Œä¹‹åå†è®©å®ƒæ­£å¸¸æ˜¾ç¤ºï¼Œè¿™æ ·å°±å¯ä»¥åªéœ€è¦ 2 æ¬¡é‡æ–°æ¸²æŸ“ã€‚å¦å¤–ï¼Œ<code>visibility: hidden</code> çš„å…ƒç´ åªå½±å“é‡ç»˜ï¼Œä¸å½±å“é‡æ’ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¯åˆ©ç”¨çš„ç‚¹ã€‚</p> <p>æœ€åä¸€ä¸ªéƒ¨åˆ†æ˜¯â€œå¤„äºæ­£å¸¸æ–‡æ¡£æµçš„å…ƒç´ â€ã€‚<code>position: absolute</code> å’Œ <code>position: fixed</code> çš„å…ƒç´ å°±æ˜¯è„±ç¦»äº†æ­£å¸¸æ–‡æ¡£æµçš„å…ƒç´ ï¼Œå³ä¾¿æ”¹å˜äº†å®ƒä»¬ï¼Œé‡æ’çš„å¼€é”€ä¹Ÿæ¯”è¾ƒå°ï¼Œå› ä¸ºæ— éœ€è€ƒè™‘è¯¥å…ƒç´ å¯¹å…¶å®ƒå…ƒç´ çš„å½±å“ã€‚</p> <p>ç°åœ¨ <code>vue</code> å’Œ <code>react</code> å†…éƒ¨éƒ½ä½¿ç”¨äº† Virtual DOMï¼Œä¸€èˆ¬è€Œè¨€ä½ æ— éœ€æ“å¿ƒ DOM æ˜¯å¦‚ä½•è¯»å†™çš„ã€‚ä½†ä¸€æ—¦è„±ç¦»æ¡†æ¶æƒ³è¦åœ¨åŸç”Ÿä¸Šåšæ›´æ·±å…¥çš„ä¼˜åŒ–ï¼Œé‚£å°±ä¸å¾—ä¸æåˆ°æ‰‹åŠ¨è°ƒèŠ‚é‡æ–°æ¸²æŸ“è¿™ä¸ªæ–¹æ³•ã€‚</p> <p>æŸäº›æ—¶å€™æ— æ³•é¿å…å¯†é›†çš„é‡æ–°æ¸²æŸ“ï¼Œæ¯”å¦‚ç½‘é¡µåŠ¨ç”»ã€‚ç½‘é¡µåŠ¨ç”»çš„æ¯ä¸€å¸§ frame éƒ½æ˜¯ä¸€æ¬¡é‡æ–°æ¸²æŸ“ï¼Œåªæœ‰å¸§ç‡è¾¾åˆ° 25 æˆ–ä»¥ä¸Šï¼Œäººçœ¼æ‰ä¼šæ„Ÿè§‰åˆ°æ¯”è¾ƒæµç•…ã€‚</p> <p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015091509.jpg" alt="å¸§ç‡ç¤ºæ„å›¾"></p> <p><a href="https://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html" target="_blank" rel="noopener noreferrer">å›¾æº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>å¤§å¤šæ•°æ˜¾ç¤ºå™¨çš„åˆ·æ–°é¢‘ç‡æ˜¯ 60Hzï¼ˆ1 ç§’åˆ·æ–° 60 æ¬¡ï¼‰ï¼Œæ‰€ä»¥ç½‘é¡µåŠ¨ç”»è¾¾åˆ° 60Hzï¼ˆ1 ç§’ 60 æ¬¡é‡æ–°æ¸²æŸ“ï¼Œæ¯æ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶é—´ä¸èƒ½è¶…è¿‡ 16.66 æ¯«ç§’ï¼‰å°±ä¼šå’Œå¤§å¤šæ•°æ˜¾ç¤ºå™¨åŒæ­¥åˆ·æ–°ï¼Œè¾¾åˆ°è‰¯å¥½çš„è§†è§‰æ•ˆæœã€‚ç”±äºæµè§ˆå™¨è®¡ç®—é‡æ’ã€æ‰§è¡Œé‡ç»˜ä¹Ÿéœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ç•™ç»™æˆ‘ä»¬çš„æ“ä½œæ—¶é—´ä¸è¶³ 16.66 æ¯«ç§’ã€‚</p> <p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015091511.png" alt="é‡æ–°æ¸²æŸ“ç¤ºæ„å›¾"></p> <p><a href="https://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html" target="_blank" rel="noopener noreferrer">å›¾æº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ web workerï¼Œè·Ÿ UI æ¸²æŸ“ä¸ç›¸å…³çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚å¤„ç†æ•°æ®ï¼‰éƒ½æ”¾åœ¨ worker çº¿ç¨‹ï¼Œè¿™æ ·å°±ä¸ä¼šå¹²æ‰°åˆ°ä¸»çº¿ç¨‹æ¸²æŸ“ UI äº†ã€‚é™åˆ¶å°±æ˜¯ï¼Œworker å†…ä¸èƒ½ç›´æ¥æ“ä½œ DOM èŠ‚ç‚¹ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨ window å¯¹è±¡çš„é»˜è®¤æ–¹æ³•å’Œå±æ€§ã€‚</p> <p>å¦ä¸€ä¸ªè§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨ <code>window.requestAnimationFrame</code>ï¼Œå®ƒå¯ä»¥æŠŠä¸€äº›ä»£ç æ”¾åˆ°ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“æ—¶æ‰§è¡Œï¼Œç±»ä¼¼çš„ API è¿˜æœ‰ <code>window.requestIdleCallback</code>ã€‚</p> <p>ç”±äºæˆ‘æ¥è§¦è¿™æ–¹é¢ç›¸å¯¹è¾ƒå°‘ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œä¸å¦¨å»æŸ¥é˜…ä¸€ä¸‹ API è¯´æ˜ï¼Œä»¥åŠ react å›¢é˜Ÿä¸º concurrent mode åšå‡ºçš„å·¥ä½œã€‚</p> <h2 id="é¼“åŠ±æ›´æ–°-å‡å°‘ä¸å¿…è¦å…¼å®¹"><a href="#é¼“åŠ±æ›´æ–°-å‡å°‘ä¸å¿…è¦å…¼å®¹" class="header-anchor">#</a> é¼“åŠ±æ›´æ–°ï¼Œå‡å°‘ä¸å¿…è¦å…¼å®¹</h2> <p>å‰ç«¯å·²ç»å‘å±•äº†å¤šå¹´ï¼Œå·²ç»æœ‰ç›¸å½“å¤šçš„æ–°ç‰¹æ€§æ–°è¯­æ³•åŠ å…¥åˆ°æµè§ˆå™¨çš„æ”¯æŒä¸­ã€‚é—æ†¾çš„æ˜¯ï¼Œä¸ºäº†å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œæ¯”å¦‚ IEï¼ˆå¤§éƒ¨åˆ†æ”¿ä¼å’Œé«˜æ ¡è®¡ç®—æœºä»åœ¨ä½¿ç”¨ï¼‰ï¼Œä½ç‰ˆæœ¬ Android å’Œä½ç‰ˆæœ¬ iOSï¼Œä¸å¾—ä¸åŠ å…¥å„ç§ polyfillï¼Œç”šè‡³åªèƒ½ä½¿ç”¨æ—§åšæ³•æ¥åšå…¼å®¹ã€‚</p> <p>æ‹¿ <a href="https://caniuse.com" target="_blank" rel="noopener noreferrer">caniuse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸Šé¢çš„ flexbox æ¥ä¸¾ä¾‹ã€‚</p> <img src="/images/optimization/caniuse-flexbox.png" alt="caniuse-flexbox"> <p>å¯ä»¥çœ‹åˆ°ï¼ŒIE å…¨ç³»åˆ—ï¼ŒAndroid 4.4 å’Œ iOS 9 ä¹‹å‰çš„ç‰ˆæœ¬å¯¹ flexbox æ”¯æŒåº¦ä¸ä½³ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦é€‚é…è¿™äº›ç‰ˆæœ¬ï¼Œå°±éœ€è¦åŠ å…¥ polyfillï¼Œç”šè‡³ä¸èƒ½ä½¿ç”¨ flexboxï¼ˆIE 6-9ï¼‰ã€‚</p> <p>ä¸ºäº†å…¼å®¹è€ŒåŠ å…¥çš„ polyfill æµªè´¹äº†æœåŠ¡å™¨çš„ç©ºé—´ï¼Œä¹Ÿæµªè´¹äº†è®¿é—®ç”¨æˆ·çš„æµé‡å’Œæ—¶é—´ï¼ˆå¦‚æœä¸‹è½½é€Ÿåº¦æ¯”è¾ƒæ…¢çš„è¯ï¼‰ã€‚å¦‚æœè¦å…¼å®¹æ›´å¤è€çš„æµè§ˆå™¨ï¼Œè¿˜ä¼šæµªè´¹äº†å¼€å‘äººå‘˜è¿‡å¤šçš„æ—¶é—´ã€ç²¾åŠ›ã€‚</p> <p>é¼“åŠ±ç”¨æˆ·æ”¾å¼ƒæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸ä»…æ˜¯å¸®åŠ©å¼€å‘äººå‘˜ï¼Œä¹Ÿæ˜¯åœ¨å¸®åŠ©è®¿é—®ç”¨æˆ·ã€‚å¦‚æœæœ‰æ„æ”¾å¼ƒä½ç‰ˆæœ¬æµè§ˆå™¨å’Œæ‰‹æœºç³»ç»Ÿï¼Œä¸å¦¨å­¦ä¹ ä¸€ä¸‹ YouTube æ˜¯æ€ä¹ˆåŠè¯´ç”¨æˆ·æ”¾å¼ƒ IE 6 çš„ã€‚</p> <p>è¿«äºç°å®å‹åŠ›ï¼Œåœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨å½»åº•é€€å‡ºå†å²èˆå°ä¹‹å‰ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦åšå…¼å®¹ï¼Œä½†è¿™ä¸é˜»ç¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ”¾å¼ƒå…¼å®¹ä¹‹åå¯è¡Œçš„åšæ³•ï¼ŒæŸäº›åšæ³•ç”šè‡³å·²ç»æŠ•å…¥åˆ°å®è·µå½“ä¸­äº†ã€‚</p> <ul><li>å›¾ç‰‡ä½¿ç”¨ WebP/SVG/HEIF/AVIF æ›¿ä»£ BMP/JPG/PNG ç­‰ã€‚</li> <li>å›¾æ ‡ä½¿ç”¨ SVG æˆ–å›¾æ ‡å­—ä½“æ›¿ä»£ PNGã€‚</li> <li>ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ html æ–°æ ‡ç­¾ï¼Œcss æ–°ç‰¹æ€§ï¼ˆæ¯”å¦‚ flexbox/gridï¼Œå¯ä»¥æ›¿ä»£ floatï¼‰ï¼Œjs æ–°è¯­æ³•å’Œæ–°ç‰¹æ€§ï¼ˆæ¯”å¦‚ç®­å¤´å‡½æ•°ï¼ŒMap å’Œ Setï¼‰ã€‚</li> <li>...</li></ul> <h2 id="ç¡®å®šæ ‡ç­¾çš„ä½ç½®-é¿å…è§£æé˜»å¡"><a href="#ç¡®å®šæ ‡ç­¾çš„ä½ç½®-é¿å…è§£æé˜»å¡" class="header-anchor">#</a> ç¡®å®šæ ‡ç­¾çš„ä½ç½®ï¼Œé¿å…è§£æé˜»å¡</h2> <p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨äº† bootstrap 3 çš„ html æ–‡ä»¶åŸºæœ¬ç»“æ„ã€‚</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
      <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
      <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>å¯ä»¥çœ‹åˆ°ï¼ŒåŠ è½½å¤–é“¾æ ·å¼æ–‡ä»¶çš„æ ‡ç­¾æ”¾åœ¨äº† html æ–‡ä»¶å¤´éƒ¨ï¼Œè€ŒåŠ è½½å¤–é“¾è„šæœ¬æ–‡ä»¶çš„æ ‡ç­¾æ”¾åœ¨äº† html æ–‡ä»¶å°¾éƒ¨ã€‚è¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„åšæ³•ã€‚</p> <p>é¦–å…ˆéœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼Œhtml æ–‡ä»¶çš„è§£ææ˜¯ä»ä¸Šåˆ°ä¸‹çš„ã€‚</p> <p>åŠ è½½å¤–é“¾æ ·å¼æ–‡ä»¶çš„æ ‡ç­¾æ”¾çš„ä½ç½®ï¼Œå…¶å®ä¸å½±å“ html çš„è§£æï¼Œå› ä¸º css çš„è§£æå’Œ html çš„è§£æä¼šåŒæ­¥è¿›è¡Œï¼Œä½†æ”¾çš„ä½ç½®ä¼šå½±å“æ¸²æŸ“ã€‚</p> <p>å¦‚æœæŠŠåŠ è½½å¤–é“¾æ ·å¼æ–‡ä»¶çš„æ ‡ç­¾æ”¾åœ¨ html æ–‡ä»¶çš„å°¾éƒ¨ï¼Œæµè§ˆå™¨å°±éœ€è¦é¢å¤–çš„æ—¶é—´è§£ææ ·å¼æ–‡ä»¶ã€‚åŒæ—¶ï¼Œæµè§ˆå™¨ä¼šå…ˆæ¸²æŸ“å‡ºä¸€ä¸ªæ²¡æœ‰å¤–é“¾æ ·å¼çš„é¡µé¢ï¼ˆä¼šæœ‰è¡Œå†…æ ·å¼ï¼‰ï¼Œæ ·å¼è§£æã€åŠ è½½å®Œä¹‹åå†é‡æ–°æ¸²æŸ“ï¼Œè¿™ä¼šè€—è´¹é¢å¤–çš„æ—¶é—´ï¼Œé¡µé¢æœ¬èº«ä¼šé—ªçƒï¼Œç”¨æˆ·ä½“éªŒç›¸å½“ä¸å¥½ã€‚</p> <p>è€Œå½“æµè§ˆå™¨è§£æåˆ°åŠ è½½å¤–é“¾è„šæœ¬æ–‡ä»¶çš„æ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨ä¼šç«‹å³ä¸‹è½½æ‰§è¡Œï¼Œhtml çš„è§£æå°±æ­¤æš‚åœã€‚å¦‚æœä¸‹è½½æ‰§è¡Œçš„è€—æ—¶è¿‡é•¿ï¼Œç½‘é¡µå°±ä¼šé•¿æ—¶é—´æ²¡æœ‰å“åº”ï¼Œå¯¼è‡´å‡æ­»ç°è±¡ã€‚</p> <p>æ‰€ä»¥ï¼ŒæŠŠåŠ è½½å¤–é“¾æ ·å¼æ–‡ä»¶çš„æ ‡ç­¾æ”¾åœ¨ html æ–‡ä»¶å¤´éƒ¨ï¼ŒæŠŠåŠ è½½å¤–é“¾è„šæœ¬æ–‡ä»¶çš„æ ‡ç­¾æ”¾åœ¨ html æ–‡ä»¶å°¾éƒ¨ï¼Œå°±æˆäº†æœ€å¸¸è§çš„åšæ³•ã€‚</p> <p>å¦‚æœå¤–é“¾è„šæœ¬æ–‡ä»¶å†…éƒ¨æ²¡æœ‰æ“ä½œ DOMï¼Œå¯ä»¥ä½¿ç”¨ <code>async</code> æˆ– <code>defer</code> å±æ€§å°†å®ƒè®¾ç½®æˆå¼‚æ­¥åŠ è½½ã€‚ä½¿ç”¨ <code>async</code> å±æ€§çš„å¤–é“¾è„šæœ¬æ–‡ä»¶ä¸€æ—¦åŠ è½½å®Œæˆå°±ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œä½¿ç”¨ <code>defer</code> å±æ€§çš„ä¼šåœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰ï¼ˆä¹Ÿå°±æ˜¯é¡µé¢ DOM åŠ è½½å®Œæˆæ—¶ï¼‰æ‰§è¡Œã€‚</p> <p>è¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæ—¢ç„¶æ˜¯å¼‚æ­¥åŠ è½½ï¼Œå°±æ— æ³•ç¡®å®šå“ªä¸ªå¤–é“¾è„šæœ¬æ–‡ä»¶çš„å†…å®¹ä¼šè¢«ä¼˜å…ˆæ‰§è¡Œï¼Œè¿™å–å†³äºä¸‹è½½å®Œæˆçš„é¡ºåºã€‚</p> <h2 id="åˆç†æ„å»º-å‡å°‘è¯·æ±‚çš„æ—¶é—´"><a href="#åˆç†æ„å»º-å‡å°‘è¯·æ±‚çš„æ—¶é—´" class="header-anchor">#</a> åˆç†æ„å»ºï¼Œå‡å°‘è¯·æ±‚çš„æ—¶é—´</h2> <p>æ¯ä¸€æ¬¡è¯·æ±‚èµ„æºéƒ½éœ€è¦è€—è´¹ä¸€äº›æ—¶é—´ã€‚ä¸‹é¢æ˜¯æˆ‘ç”¨ Microsoft Edge 88.0.705.6 æ‰“å¼€ç™¾åº¦çš„ç½‘ç»œç»Ÿè®¡ã€‚</p> <img src="/images/optimization/edge-devtools-network.png" alt="edge-devtools-network"> <p>å¯ä»¥çœ‹åˆ°åœ¨ç¦æ­¢ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œç™¾åº¦é¦–é¡µæœ‰ 63 ä¸ªè¯·æ±‚ï¼Œä¸€å…±ç”¨äº† 7.63 ç§’æ‰å®Œæˆï¼Œ<code>DOMContentLoaded</code> åªä½¿ç”¨äº† 1.29 ç§’ï¼Œé€Ÿåº¦å·²ç»ç›¸å½“ä¸é”™äº†ã€‚</p> <p>ç‚¹å…¥è®¡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŸä¸€ä¸ªè¯·æ±‚çš„å…·ä½“è€—æ—¶ä¿¡æ¯ã€‚</p> <img src="/images/optimization/edge-devtools-network-timing-1.png" alt="edge-devtools-network-timing-1"> <ul><li>Queueing è¡¨ç¤ºåœ¨è¯·æ±‚é˜Ÿåˆ—ä¸­ç­‰å¾…çš„æ—¶é—´ã€‚</li> <li>Stalled è¡¨ç¤ºä»è¿æ¥å»ºç«‹å®Œæˆåˆ°çœŸæ­£å¯ä»¥ä¼ è¾“æ•°æ®ä¹‹é—´çš„æ—¶é—´å·®ï¼ŒåŒ…å«äº†ä»£ç†åå•†æ—¶é—´ã€‚</li> <li>Initial Connectionï¼ˆæˆ– Connectingï¼‰è¡¨ç¤ºå»ºç«‹è¿æ¥æ‰€èŠ±è´¹çš„æ—¶é—´ï¼ŒåŒ…æ‹¬ TCP æ¡æ‰‹ï¼Œé‡è¯•ï¼Œåå•† SSL ç­‰è€—æ—¶ã€‚</li> <li>SSL è¡¨ç¤ºå®Œæˆ SSL æ¡æ‰‹æ‰€è€—è´¹çš„æ—¶é—´ã€‚</li> <li>Request sent è¡¨ç¤ºå‘å‡ºç½‘ç»œè¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li> <li>Waiting(TFFB) è¡¨ç¤ºç­‰å¾…å‘å‡ºé¡µé¢è¯·æ±‚åˆ°æ¥æ”¶åˆ°åº”ç­”æ•°æ®ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€‚</li> <li>Content Download è¡¨ç¤ºæ¥æ”¶å“åº”æ•°æ®æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li></ul> <p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¯èƒ½å‡ºç°çš„è¯´æ˜ã€‚</p> <ul><li>Proxy negotiation è¡¨ç¤ºä¸ä»£ç†æœåŠ¡å™¨è¿æ¥è¿›è¡Œåå•†æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li> <li>DNS Lookup è¡¨ç¤ºæ‰§è¡Œ DNS æŸ¥æ‰¾æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li></ul> <p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªè¯·æ±‚é‡Œé¢è¯·æ±‚å’Œå“åº”çš„æ—¶é—´æ˜¯æœ€é•¿çš„ï¼Œç¬¬äºŒé•¿çš„æ˜¯è¿æ¥ç›¸å…³çš„æ—¶é—´ã€‚ä½†å¹¶éæ€»æ˜¯è¿™æ ·ã€‚</p> <p>ä¸‹é¢æ˜¯ä¸€ä¸ªå›¾ç‰‡çš„è¯·æ±‚ã€‚å¯ä»¥çœ‹åˆ°è¿™ä¸€æ¬¡ï¼ŒèŠ±è´¹åœ¨è¿æ¥ä¸Šçš„æ—¶é—´æ›´é•¿ï¼Œè¯·æ±‚å’Œå“åº”çš„æ—¶é—´è¾ƒçŸ­ã€‚</p> <img src="/images/optimization/edge-devtools-network-timing-2.png" alt="edge-devtools-network-timing-1"> <p>ä¹Ÿå› æ­¤ï¼Œæˆ‘ä»¬çš„æ„å»ºé…ç½®è¦å°½å¯èƒ½åœ°ä¼˜åŒ–è¿™ä¸¤ç‚¹ã€‚</p> <p>ä¸€èˆ¬èµ„æºéƒ½éœ€è¦èŠ±è´¹ä¸€éƒ¨åˆ†æ—¶é—´åœ¨è¿æ¥ä¸Šã€‚å¦‚æœæˆ‘ä»¬èƒ½åˆç†åœ°åˆå¹¶èµ„æºï¼Œå‡å°‘è¯·æ±‚çš„æ¬¡æ•°ï¼Œå°±èƒ½å®ç°æœ‰æ•ˆä¼˜åŒ–ã€‚</p> <p>é’ˆå¯¹å›¾ç‰‡ï¼Œä»¥å‰ä¼šä½¿ç”¨å¤šå¼ æ•´åˆæˆä¸€å¼ çš„é›ªç¢§å›¾ï¼Œè€Œç°åœ¨ä¸€èˆ¬ä¼šä½¿ç”¨ <code>url-loader</code> å’Œ <code>file-loader</code> æŠŠè¾ƒå°çš„å›¾ç‰‡å†…è”åˆ°ä»£ç å†…ï¼Œå®ƒä»¬å¯¹å…¶å®ƒçš„èµ„äº§æ–‡ä»¶ä¹Ÿä¸€æ ·æœ‰æ•ˆã€‚</p> <p>é’ˆå¯¹è„šæœ¬æ–‡ä»¶ï¼Œç°åœ¨ä¼šä½¿ç”¨ <code>webpack.optimization.splitChunks</code> æ¥åˆ’åˆ†ï¼Œè®©ç”¨æˆ·å…ˆè·å–å¿…è¦çš„èµ„æºæ¥æ­£å¸¸æ˜¾ç¤ºé¦–é¡µã€‚</p> <p>é™¤äº†åˆå¹¶èµ„æºå¤–ï¼Œå‹ç¼©èµ„æºä½“ç§¯ä¹Ÿæ˜¯å¾ˆå¥½çš„è§£å†³çš„æ–¹æ³•ã€‚åˆ†åˆ«ä½¿ç”¨ <code>html-webpack-plugin</code>ï¼Œ<code>cssnano</code> å’Œ <code>terser-webpack-plugin</code> å¤„ç† htmlï¼Œcss å’Œ js æ–‡ä»¶ï¼Œç§»é™¤æ³¨é‡Šã€ç©ºæ ¼ç­‰ä¸å½±å“æ­£å¸¸è¿è¡Œçš„ä»£ç ï¼Œè¾¾åˆ°å‹ç¼©çš„ç›®çš„ã€‚</p> <p>è¦è¿›ä¸€æ­¥åœ°å‹ç¼©ï¼Œä¸å¦¨è€ƒè™‘ <code>compression-webpack-plugin</code>ï¼Œå®ƒå¯ä»¥å‹ç¼©æ–‡ä»¶å¾—åˆ°ä½“ç§¯æ›´å°çš„ gzip æ–‡ä»¶ã€‚</p> <p>ä¸Šé¢è¿™äº›ä¼˜åŒ–éƒ½æ˜¯å…³äº <code>webpack</code> çš„ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘çš„ <a href="/webpack4/">webpack4 ç¤ºä¾‹</a> è¿›ä¸€æ­¥äº†è§£ã€‚</p> <p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ CDN æ¥è®¿é—®æŸäº›åŒ…çš„å·²æ„å»ºèµ„æºï¼ŒCDN å¾€å¾€æ‹¥æœ‰æ›´å¿«çš„è¯·æ±‚å’Œå“åº”é€Ÿåº¦ã€‚é—®é¢˜åœ¨äº CDN çš„ç¨³å®šæ€§å¹¶ä¸ç”±è‡ªå·±æŒæ§ï¼Œæˆ‘è‡ªå·±æ›´å€¾å‘äºæŠŠ <code>splitChunks</code> åˆ†ç¦»å‡ºçš„åŒ…éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œä¸ä½¿ç”¨ CDNã€‚</p> <p>æ¡†æ¶çš„è„šæ‰‹æ¶å¾€å¾€å·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡å¥½äº†åˆç†çš„æ„å»ºï¼Œæˆ‘ä»¬æ— éœ€æ“å¿ƒå¤ªå¤šï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘æ›´æ¨èä½¿ç”¨è„šæ‰‹æ¶ç›´æ¥å¼€å‘ã€‚</p> <p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œç›¸æ¯”äº <code>create-react-app</code>ï¼Œ<code>vue-cli</code> æœ‰ç€ç‰¹åˆ«çš„ä¼˜åŒ–ï¼Œé‚£å°±æ˜¯ <code>preload</code> å’Œ <code>prefetch</code>ï¼ˆä½¿ç”¨äº† <code>@vue/preload-webpack-plugin</code>ï¼‰ã€‚</p> <p><code>&lt;link rel=&quot;preload&quot;&gt;</code> æ˜¯ä¸€ç§ resource hintï¼Œç”¨æ¥å‘Šè¯‰æµè§ˆå™¨é¡µé¢åŠ è½½åå¾ˆå¿«ä¼šè¢«ç”¨åˆ°çš„èµ„æºï¼Œå¼€å§‹ä¸»ä½“æ¸²æŸ“ä¹‹å‰å°½æ—© preloadã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ª <code>vue-cli</code> åˆ›å»ºçš„åº”ç”¨ä¼šä¸ºæ‰€æœ‰åˆå§‹åŒ–æ¸²æŸ“éœ€è¦çš„æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ preload æç¤ºã€‚</p> <p><code>&lt;link rel=&quot;prefetch&quot;&gt;</code> ä¹Ÿæ˜¯ä¸€ç§ resource hintï¼Œç”¨æ¥å‘Šè¯‰æµè§ˆå™¨åœ¨é¡µé¢åŠ è½½å®Œæˆåï¼Œåˆ©ç”¨ç©ºé—²æ—¶é—´æå‰è·å–ç”¨æˆ·æœªæ¥å¯èƒ½ä¼šè®¿é—®çš„å†…å®¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ª <code>vue-cli</code> åº”ç”¨ä¼šä¸ºæ‰€æœ‰ä½œä¸º async chunk ç”Ÿæˆçš„ js æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ prefetch æç¤ºã€‚</p> <p>åœ¨é <code>vue-cli</code> åˆå§‹åŒ–çš„é¡¹ç›®é‡Œï¼Œä½ å¯ä»¥è€ƒè™‘æ‰‹åŠ¨æ·»åŠ è¿™éƒ¨åˆ†ä¼˜åŒ–ã€‚</p> <h2 id="åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„"><a href="#åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„" class="header-anchor">#</a> åœ¨åˆé€‚çš„æ—¶å€™åšåˆé€‚çš„é‡æ„</h2> <p>åœ¨éœ€æ±‚æ”¹åŠ¨äº†ä¸€å®šæ¬¡æ•°ä¹‹åï¼ŒåŸæœ¬åˆç†çš„ä»£ç æ¶æ„å¯èƒ½ä¼šæ˜¾å¾—ä¸æ˜¯é‚£ä¹ˆåˆç†ï¼Œè·Ÿè¿›éœ€æ±‚æ”¹åŠ¨è¶Šæ¥è¶Šå›°éš¾ã€‚è¿™å¾€å¾€æ˜¯æ–°éœ€æ±‚ä¸æ—¢å¾€è®¾è®¡å†²çªè€Œå¯¼è‡´çš„ã€‚</p> <p>æˆ‘ä¸€èˆ¬å€¾å‘äºåœ¨éœ€æ±‚æ”¹åŠ¨ 50 æ¬¡å·¦å³çš„æ—¶å€™åšä¸€æ¬¡ä¸­å°å‹çš„é‡æ„ï¼Œè€Œå¤§å‹çš„é‡æ„éš¾ä»¥ç®€å•åœ°å†³å®šï¼Œä¸€èˆ¬ç”±éœ€æ±‚é‡ï¼Œå·¥ä½œé‡ï¼Œä»¥åŠæ—¥æœŸå®‰æ’ç­‰å› ç´ ç»¼åˆå†³å®šã€‚</p> <p>å¸¸è§çš„ä¼˜åŒ–æ‰‹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚å°è£…é‡å¤ä»£ç ï¼Œæ‹†åˆ†å‡½æ•°åŠŸèƒ½ï¼Œå°½å¯èƒ½åœ°ä½¿ç”¨é¢„ç½® API ç­‰ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">nickname<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>password<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'å¯†ç é•¿åº¦ä¸ç¬¦åˆè¦æ±‚ï¼Œè¯·ä½¿ç”¨å¼ºå¯†ç '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nickname<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        username <span class="token operator">+=</span> nickname<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'è´¦å·æ˜¯'</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ä¸Šé¢ä¸€æ®µä»£ç è¯•å›¾å¤„ç†æäº¤äº‹ä»¶ï¼Œæ€è·¯ç›´è§‚ä½†ç›¸å½“ç³Ÿç³•ã€‚</p> <p>é¦–å…ˆæ˜¯åœ¨æäº¤æ–¹æ³•å†…éƒ¨å®šä¹‰äº†æ€ä¹ˆæ ¡éªŒï¼Œå¯¼è‡´å‡½æ•°æœ¬èº«ä¸å¤Ÿå•ä¸€ã€‚ä¸€ç§æ›´å¥½çš„åšæ³•æ˜¯ï¼Œåˆ†ç¦»æ ¡éªŒå’Œæäº¤çš„å®šä¹‰ï¼Œä½†å¯ä»¥åœ¨æäº¤æ–¹æ³•å†…éƒ¨è°ƒç”¨æ ¡éªŒæ–¹æ³•ã€‚åˆ†ç¦»åï¼Œæ— è®ºæ˜¯æ ¡éªŒè¿˜æ˜¯æäº¤ï¼Œéƒ½æ›´æ˜“äºæ‰©å±•äº†ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// better</span>
<span class="token keyword">function</span> <span class="token function">handleValidate</span><span class="token punctuation">(</span><span class="token parameter">password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>password<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'å¯†ç é•¿åº¦ä¸ç¬¦åˆè¦æ±‚ï¼Œè¯·ä½¿ç”¨å¼ºå¯†ç '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">nickname<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">handleValidate</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nickname<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        username <span class="token operator">+=</span> nickname<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'è´¦å·æ˜¯'</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œä½¿ç”¨äº† <code>for</code> å¾ªç¯æ¥è·å– <code>nickname</code> å˜é‡çš„å‰ 8 ä½ï¼Œå¹¶åœ¨ä¸è¶³ 8 ä½æ—¶åœæ­¢æ“ä½œã€‚ä½¿ç”¨é¢„ç½®çš„ <code>String.prototype.slice</code> å¯ä»¥ç›´æ¥äº†å½“åœ°å®Œæˆè¿™ä¸€æ­¥å·¥ä½œã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// even better</span>
<span class="token keyword">function</span> <span class="token function">handleValidate</span><span class="token punctuation">(</span><span class="token parameter">password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>password<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'å¯†ç é•¿åº¦ä¸ç¬¦åˆè¦æ±‚ï¼Œè¯·ä½¿ç”¨å¼ºå¯†ç '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">nickname<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">handleValidate</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> username <span class="token operator">=</span> nickname<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'è´¦å·æ˜¯'</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ç°åœ¨å°±æ›´è‰¯å¥½äº†ã€‚æ›´å¤šçš„é‡æ„æ‰‹æ³•ä½ å¯ä»¥é˜…è¯» Martin Fowler çš„ã€Šé‡æ„ã€‹ä¸€ä¹¦ã€‚</p> <p>æˆ‘åœ¨è¿™é‡Œè¿˜æƒ³å†å¼ºè°ƒä¸€ç‚¹ï¼Œé‚£å°±æ˜¯é€‰æ‹©åˆé€‚çš„æ—¶é—´ç‚¹å»åšé‡æ„ã€‚è¿‡æ—©åœ°é‡æ„ä¼šæµªè´¹å®è´µçš„å¼€å‘æ—¶é—´ï¼Œè¿‡æ™šåœ°é‡æ„ä¼šä½¿é‡æ„å·¥ä½œéš¾ä»¥å¼€å±•ï¼Œä»£ç éš¾ä»¥æŒ½å›ã€‚</p> <h2 id="ä½¿ç”¨-lighthouse-è¾…åŠ©åˆ†æ"><a href="#ä½¿ç”¨-lighthouse-è¾…åŠ©åˆ†æ" class="header-anchor">#</a> ä½¿ç”¨ LightHouse è¾…åŠ©åˆ†æ</h2> <p><a href="https://github.com/GoogleChrome/lighthouse#readme" target="_blank" rel="noopener noreferrer">LightHouse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ä¸€ä¸ªè°·æ­Œå¼€æºçš„ç½‘ç«™æ€§èƒ½åˆ†æå·¥å…·ï¼Œå®ƒå¯ä»¥åˆ†æä»»æ„ç½‘ç«™çš„æ€§èƒ½ï¼Œæ‰“åˆ†å¹¶ç»™å‡ºä¸€äº›å»ºè®®ã€‚</p> <p>ä½ å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ’ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ cliã€‚è¿™é‡Œä½¿ç”¨æµè§ˆå™¨æ’ä»¶åšæ¼”ç¤ºã€‚</p> <p>æµ‹è¯•çš„å¯¹è±¡ä¾ç„¶æ˜¯ç™¾åº¦ã€‚LightHouse ç”Ÿæˆäº†æŠ¥å‘Šï¼Œæˆ‘å°†å®ƒä¿å­˜æˆ <a target="_blank" href="/documents/optimization/lighthouse-report-for-baidu.pdf">PDF</a> ä¾›ä½ åœ¨çº¿æŸ¥çœ‹ã€‚</p> <p>æŠ¥å‘Šå¯¹é—®é¢˜çš„æè¿°å’Œç»™å‡ºçš„è§£å†³æ–¹æ¡ˆéƒ½ç›¸å½“è¯¦ç»†ï¼Œåœ¨è¿™é‡Œå°±ä¸å†å±•å¼€è®²è§£æŠ¥å‘Šäº†ã€‚</p> <h2 id="æ‰‹åŠ¨ä¼˜åŒ–-vue"><a href="#æ‰‹åŠ¨ä¼˜åŒ–-vue" class="header-anchor">#</a> æ‰‹åŠ¨ä¼˜åŒ– vue</h2> <h3 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="header-anchor">#</a> å‡½æ•°å¼ç»„ä»¶</h3> <p>å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰çŠ¶æ€ï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰å“åº”å¼æ•°æ®ï¼‰ï¼Œä¹Ÿæ²¡æœ‰å®ä¾‹ï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰ <code>this</code>ï¼‰ï¼Œå› æ­¤å®ƒçš„æ¸²æŸ“å¼€é”€ä¹Ÿè¾ƒå°‘ã€‚</p> <p>å‡½æ•°å¼ç»„ä»¶éå¸¸é€‚åˆç”¨äºå±•ç¤ºå›ºå®šæ•°æ®ã€‚</p> <h3 id="æ”¹å–„-seo"><a href="#æ”¹å–„-seo" class="header-anchor">#</a> æ”¹å–„ SEO</h3> <p><code>vue-cli</code> é»˜è®¤ä¸ºæˆ‘ä»¬æ„å»ºä¸€ä¸ªå¯¹ SEO ä¸å¤ªå‹å¥½çš„ SPAã€‚å¦‚æœéœ€è¦è‰¯å¥½çš„ SEOï¼Œæˆ‘ä»¬ä¸å¾—ä¸è€ƒè™‘ä¸€äº›æ–¹æ¡ˆã€‚</p> <p>å¦‚æœåªæ˜¯æƒ³æ”¹å–„å°‘é‡é¡µé¢ï¼ˆ<code>/</code>ï¼Œ<code>/about</code>ï¼Œ<code>/contact</code> ç­‰ï¼‰çš„ SEOï¼Œä½¿ç”¨é¢„æ¸²æŸ“ prerender å³å¯ï¼ˆ<a href="https://github.com/chrisvfritz/prerender-spa-plugin#readme" target="_blank" rel="noopener noreferrer">prerender-spa-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼‰ã€‚é¢„æ¸²æŸ“å¯ä»¥åœ¨æ„å»ºæ—¶ build time ç”Ÿæˆé’ˆå¯¹ç‰¹å®šè·¯ç”±çš„é™æ€ç½‘é¡µï¼Œç”šè‡³å¯ä»¥å°†ç½‘ç«™å®Œå…¨é™æ€åŒ–ã€‚</p> <p>åœ¨å…¶å®ƒçš„æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æ›´éœ€è¦æœåŠ¡ç«¯æ¸²æŸ“ SSRã€‚å…¶å…·ä½“çš„ä¼˜åŠ£å’Œé…ç½®æŒ‡å—å¯ä»¥ç›´æ¥æŸ¥çœ‹ <a href="https://ssr.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vue SSR æŒ‡å—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>é™¤äº†æ‰‹åŠ¨é…ç½® SSR ä¹‹å¤–ï¼Œç›´æ¥ä½¿ç”¨ <a href="https://nuxtjs.org/" target="_blank" rel="noopener noreferrer">Nuxt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æˆ– <a href="https://quasar.dev/" target="_blank" rel="noopener noreferrer">Quasar<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p> <p>ç”±äºæˆ‘æ¥è§¦è¿™æ–¹é¢ç›¸å¯¹è¾ƒå°‘ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</p> <h3 id="å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±"><a href="#å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±" class="header-anchor">#</a> å¼‚æ­¥åŠ è½½éé¦–é¡µè·¯ç”±</h3> <p>æ­£å¦‚æˆ‘åœ¨<a href="#%E5%90%88%E7%90%86%E6%9E%84%E5%BB%BA%E5%87%8F%E5%B0%91%E8%AF%B7%E6%B1%82%E7%9A%84%E6%97%B6%E9%97%B4">åˆç†æ„å»ºï¼Œå‡å°‘è¯·æ±‚çš„æ—¶é—´</a>é‡Œæåˆ°çš„ä¸€æ ·ï¼Œ<code>vue-cli</code> ä¼šå†…ç½® preload å’Œ prefetch çš„ä¼˜åŒ–ã€‚</p> <p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„é…ç½®ä¾‹å­ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Index <span class="token keyword">from</span> <span class="token string">'@/views/index.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Index<span class="token punctuation">,</span> <span class="token comment">// preload</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/about.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// prefetch</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><code>vue-cli</code> ä¼šè‡ªåŠ¨å¤„ç†èµ„æºï¼Œä¸ºåŒæ­¥å¼•å…¥çš„èµ„æºæ·»åŠ  preloadï¼Œä¸ºå¼‚æ­¥å¼•å…¥çš„èµ„æºæ·»åŠ  prefetchã€‚</p> <p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥è¢«ç›´æ¥è®¿é—®çš„é¡µé¢ï¼ˆæ¯”å¦‚é¦–é¡µï¼Œå…³äºé¡µï¼‰éœ€è¦ preloadï¼Œå…¶å®ƒé¡µé¢åªéœ€è¦ prefetchã€‚</p> <h3 id="åˆç†ä½¿ç”¨-vuex"><a href="#åˆç†ä½¿ç”¨-vuex" class="header-anchor">#</a> åˆç†ä½¿ç”¨ vuex</h3> <p>åœ¨å®é™…å¼€å‘ä¸­å¾€å¾€ä¼šé‡åˆ°å¤šä¸ªç»„ä»¶éœ€è¦åæ˜ ç›¸åŒçš„å˜åŒ–æ•°æ®çš„æƒ…å†µï¼Œè¿™æ—¶æœ€å¥½å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶ä¸­å»ã€‚å½“å…±åŒçš„çˆ¶ç»„ä»¶ä¸å®ƒä»¬è·¨è¶Šçš„å±‚çº§è¾ƒå¤šï¼Œè¿™æ—¶å€™æ›´æ¨èä½¿ç”¨å…¨å±€çŠ¶æ€ç®¡ç†ã€‚</p> <p>å…³äºçŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹ <a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vuex æ˜¯ä»€ä¹ˆ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚è¿™é‡Œåªæƒ³å…ˆè®¨è®ºå¦‚ä½•åˆ’åˆ†æ¨¡å—çš„é—®é¢˜ã€‚</p> <p>å¦‚ä½•åˆ’åˆ†æ¨¡å—ï¼Œç”šè‡³è¦ä¸è¦åˆ’åˆ†æ¨¡å—ï¼Œä¸€ç›´æ²¡æœ‰å®šè®ºã€‚ä¸€æ´¾æ›´å€¾å‘äºä¸ä½¿ç”¨ <code>vuex</code> æ¨¡å—ï¼Œå¯ä»¥åƒ <code>redux</code> ä¸€æ ·ä½¿ç”¨ <code>vuex</code>ã€‚æˆ‘ä¸ªäººå±äºå¦ä¸€æ´¾ï¼Œæ›´åˆ™å€¾å‘äºä½¿ç”¨ <code>vuex</code> æ¨¡å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ¨¡å—éƒ½å¼€å¯å‘½åç©ºé—´ã€‚</p> <p>æˆ‘ä¼šæŠŠ <code>vuex</code> æ¨¡å—åˆ†æˆä¸¤ç±»ï¼Œä¸€ç±»æ˜¯åº”ç”¨ä½¿ç”¨çš„æ¨¡å—ï¼Œå¦ä¸€ç±»æ˜¯ä¸šåŠ¡ä½¿ç”¨çš„æ¨¡å—ã€‚åº”ç”¨ä½¿ç”¨çš„æ¨¡å—å¾€å¾€å‘½åä¸º <code>app</code>ï¼Œé‡Œé¢ä¿å­˜ç”¨æˆ·è®¾ç½®çš„è¯­è¨€ã€ä¸»é¢˜ç­‰æ•°æ®ï¼›ä¸šåŠ¡ä½¿ç”¨çš„æ¨¡å—å‘½åè§†å…·ä½“æƒ…å†µè€Œå®šï¼Œé‡Œé¢ä¿å­˜ç”¨æˆ·ä¿¡æ¯å’Œä¸šåŠ¡ç›¸å…³ç­‰æ•°æ®ã€‚</p> <img src="/images/optimization/vuex-modules.svg" alt="vuex-modules"> <p>è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯æ˜ç¡®åˆ’åˆ†äº†ç•Œé™ï¼Œå¼ºè°ƒæ¨¡å—åŒ–ã€‚åå¤„å°±æ˜¯ä¸šåŠ¡æœ¬èº«æ¯”è¾ƒé”™ç»¼å¤æ‚æ—¶ï¼Œéå¸¸è€ƒç©¶å¼€å‘è€…åˆ’åˆ†æ¨¡å—çš„åŠŸåº•ã€‚ä¸€æ—¦åˆ’åˆ†çš„æ¨¡å—è¢«ä¸šåŠ¡éœ€æ±‚æ¨¡ç³Šäº†ç•Œé™ï¼Œåˆ’åˆ†æ¨¡å—å°±ä¼šæ˜¾å¾—å¤šä½™ä¸”ç´¯èµ˜ã€‚</p> <p>è€Œæ¨¡å—ä¸‹çš„æ•°æ®åˆ™åº”è¯¥å°½é‡æ‰å¹³åŒ–ï¼Œæ¨¡å—ä¸‹ä¸åº”è¯¥å†åµŒå¥—æ¨¡å—ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆåœ°é¿å…è¿‡é•¿çš„é“¾å¼è°ƒç”¨ã€‚</p> <h2 id="æ‰‹åŠ¨ä¼˜åŒ–-react"><a href="#æ‰‹åŠ¨ä¼˜åŒ–-react" class="header-anchor">#</a> æ‰‹åŠ¨ä¼˜åŒ– react</h2> <p>TODO</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h2> <ul><li>David Thomas, Andrew Hunt - ç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“</li> <li>Martin Fowler - é‡æ„</li> <li><a href="https://developers.google.cn/web/tools/chrome-devtools" target="_blank" rel="noopener noreferrer">chrome devtools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Tools" target="_blank" rel="noopener noreferrer">firefox devtools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide-chromium" target="_blank" rel="noopener noreferrer">edge(chromium devtools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://woai3c.github.io/introduction-to-front-end-engineering/" target="_blank" rel="noopener noreferrer">è°­å…‰å¿— - å¸¦ä½ å…¥é—¨å‰ç«¯å·¥ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000002789651" target="_blank" rel="noopener noreferrer">[ JS è¿›é˜¶ ] åŸºæœ¬ç±»å‹ å¼•ç”¨ç±»å‹ ç®€å•èµ‹å€¼ å¯¹è±¡å¼•ç”¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html" target="_blank" rel="noopener noreferrer">é˜®ä¸€å³° - ç½‘é¡µæ€§èƒ½ç®¡ç†è¯¦è§£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/WindrunnerMax/p/13972793.html" target="_blank" rel="noopener noreferrer">WindrunnerMax - Vue å¸¸ç”¨æ€§èƒ½ä¼˜åŒ–<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://ssr.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vue.js æœåŠ¡ç«¯æ¸²æŸ“æŒ‡å—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/GoogleChrome/lighthouse#readme" target="_blank" rel="noopener noreferrer">LightHouse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6844904016325902344" target="_blank" rel="noopener noreferrer">å°ç»´ FE - ä¸€æ–‡ææ‡‚ V8 å¼•æ“çš„åƒåœ¾å›æ”¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="è‡´è°¢"><a href="#è‡´è°¢" class="header-anchor">#</a> è‡´è°¢</h2> <ul><li><a href="https://github.com/XuXianTao" target="_blank" rel="noopener noreferrer">XuXianTao<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - é˜…è¯»äº†åˆç¨¿å¹¶æä¾›äº†å¼¥è¶³çè´µçš„å»ºè®®å’Œæ„è§</li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/ModyQyW/modyqyw.github.io/edit/origin/optimization/README.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ­¤é¡µ</a></div> <div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº:</span> <span class="info">2021å¹´7æœˆ5æ—¥ 05:18</span></div> <!----></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="å…³é—­" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">è¯¥åº”ç”¨å¯ä»¥å®‰è£…åœ¨æ‚¨çš„ PC æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šã€‚è¿™å°†ä½¿è¯¥ Web åº”ç”¨ç¨‹åºå¤–è§‚å’Œè¡Œä¸ºä¸å…¶ä»–åº”ç”¨ç¨‹åºç›¸åŒã€‚å®ƒå°†åœ¨å‡ºç°åœ¨åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­ï¼Œå¹¶å¯ä»¥å›ºå®šåˆ°ä¸»å±å¹•ï¼Œå¼€å§‹èœå•æˆ–ä»»åŠ¡æ ã€‚æ­¤ Web åº”ç”¨ç¨‹åºè¿˜å°†èƒ½å¤Ÿä¸å…¶ä»–åº”ç”¨ç¨‹åºå’Œæ‚¨çš„æ“ä½œç³»ç»Ÿå®‰å…¨åœ°è¿›è¡Œäº¤äº’ã€‚</p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>è¯¦æƒ…</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        å®‰è£… <span></span></button> <button class="cancel-button">
        å–æ¶ˆ
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.97090625.js" defer></script><script src="/assets/js/vendors~layout-Layout.2575cae3.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.98c9c1a5.js" defer></script><script src="/assets/js/page-ä¼˜åŒ–.4906bffb.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.ec478e91.js" defer></script>
  </body>
</html>
