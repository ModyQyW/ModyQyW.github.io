# 环境配置

所有配置仅供参考，自行替换。

## v2ray

- [holytech](https://store.holytech.tech/aff.php?aff=2849) - 稳定，自带客户端

## Windows - 偏向娱乐的配置

- windows 10 ltsc - 稳定，砍掉了一切社交功能，缺点是安装 wsl2 比较麻烦，wsl2 中建议使用 [oh-my-zsh](https://ohmyz.sh/)
- [360 Total Security](https://www.360totalsecurity.com/zh-cn/features/360-total-security/) - 电脑管理，你也可以考虑使用[腾讯电脑管家](https://guanjia.qq.com/)，如果锁定了浏览器，可能会导致 ie 无法唤起开发者工具
- [360zip](https://www.360totalsecurity.com/zh-cn/360zip/) - 压缩/解压缩工具，你也可以考虑 [bandizip](https://www.bandisoft.com/bandizip/)（有广告）
- [cFosSpeed](https://www.cfos.de/zh-cn/cfosspeed/cfosspeed.htm) - 加速工具
- [DeepL](https://www.deepl.com/translator) - 翻译工具
- [Firefox Developer Edition](https://www.mozilla.org/en-US/firefox/developer/)
- [Google Chrome](https://www.google.cn/chrome/index.html)
- [Microsoft Edge](https://www.microsoft.com/zh-cn/edge)
- [Motrix](https://motrix.app/zh-CN/) - 下载工具
- [PotPlayer](http://potplayer.daum.net/?lang=zh_CN) - 播放器
- [PowerToys](https://github.com/microsoft/PowerToys) - 实用的小插件集合
- [qBittorrent](https://www.qbittorrent.org/) - 下磁力链接
- [TeamViewer](https://www.teamviewer.cn/cn/products/teamviewer/) - 远程工具
- [uTools](https://u.tools/) - 全平台支持且体验一致的快捷工具，类似的还有 [wox](https://github.com/Wox-launcher/Wox)，但 wox 只支持 windows
- [WPS](https://www.wps.cn/) - 建议重度 office 用户用 ms office
- [百度网盘](http://pan.baidu.com/download)
- [彩虹工具箱](https://rainbowbyte.com/app/rainbowtoolbox.html) - 小工具集合
- [雷电模拟器](https://www.ldmnq.com/) - 安卓模拟器
- [美图看看](http://kankan.meitu.com/)
- [美图秀秀](https://mt.meipai.com/)
- [魔影工厂](https://sm.myapp.com/original/multimedia/moying_2.1.1.4225.exe)
- [人人影视](http://app.rrys.tv/) - 看剧
- [网易云音乐](https://music.163.com/#/download) - 听歌启动器
- 迅雷 U 享版 - 下载工具

## macOS - 偏向开发的配置

- [爱思助手](https://www.i4.cn/) - ios 手机用
- [百度网盘](http://pan.baidu.com/download)
- [彩虹工具箱](https://rainbowbyte.com/app/rainbowtoolbox.html) - 小工具集合
- [超级右键](https://apps.apple.com/cn/app/%E8%B6%85%E7%BA%A7%E5%8F%B3%E9%94%AE-irightmouse/id1497428978) - 补全了 macOS 的右键菜单缺陷
- [城通网盘](https://imgstatic.ctfile.com/upload/apps/ctfile.dmg)
- [欢乐斗地主](https://apps.apple.com/cn/app/%E6%AC%A2%E4%B9%90%E6%96%97%E5%9C%B0%E4%B8%BB/id1471294129?mt=12) - 打牌
- [看图](https://kantu.qq.com/) - 看图工具
- [网易云音乐](https://music.163.com/#/download) - 听歌启动器
- [网易 Mumu](http://mumu.163.com/) - 安卓模拟器
- [微信](https://weixin.qq.com/cgi-bin/readtemplate?uin=&stype=&promote=&fr=&lang=zh_CN&ADTAG=&check=false&nav=download&t=weixin_download_list&loc=readtemplate,weixin,body,6)
- [微信小程序开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html)
- [支付宝小程序开发者工具](https://docs.alipay.com/mini/ide/download)
- [迅雷](http://down.sandai.net/mac/thunder_3.4.1.4368.dmg)
- [语雀](https://www.yuque.com/install/desktop)
- [AltStore](https://altstore.io/) - 不越狱也能自由安装 ipa 的 app store
- [Android Studio](https://developer.android.com/studio/) - 安卓开发
- [Charles](https://xclient.info/s/charles.html) - 抓包工具
- [CheatSheet](https://www.mediaatelier.com/CheatSheet/) - 显示当前程序的快捷键列表
- [Countdown Timer Plus](https://apps.apple.com/cn/app/%E5%80%92%E6%95%B0%E8%AE%A1%E6%97%B6%E5%99%A8-countdown-timer-plus/id1150771803) - 倒计时，鞭策一下自己
- [DeepL](https://www.deepl.com/translator) - 翻译工具
- [Dozer](https://github.com/Mortennn/Dozer) - 隐藏状态栏过多的图标
- [draw.io](https://github.com/jgraph/drawio-desktop/releases/) - 免费作图工具，包括流程图，思维导图等
- [eZip](https://ezip.awehunt.com/) - 压缩/解压缩工具
- [Fiddler](https://www.telerik.com/fiddler) - 抓包工具
- [FileZilla](https://filezilla-project.org/) - 图形界面的 ftp 连接软件
- [Firefox Developer Edition](https://www.mozilla.org/en-US/firefox/developer/)
- [Google Chrome](https://www.google.cn/chrome/index.html)
- [HBuilderX](https://www.dcloud.io/) - 使用 uni-app 开发 app 必须使用的工具
- [Homebrew](https://brew.sh/index_zh-cn) - 包管理器，国内可以考虑使用 [HomebrewCN](https://gitee.com/cunkai/HomebrewCN)
- [IINA](https://iina.io/) - 播放器
- [iShot](https://apps.apple.com/cn/app/ishot-%E6%88%AA%E5%9B%BE-%E9%95%BF%E6%88%AA%E5%9B%BE-%E8%B4%B4%E5%9B%BE-%E5%BD%95%E5%B1%8F%E5%B7%A5%E5%85%B7/id1485844094) - 截图、长截图、贴图、录屏工具
- [itsycal](https://www.mowglii.com/itsycal/) - 日历工具
- [Listen1](http://listen1.github.io/listen1/) - 专注于听歌的播放器
- [Magnet](https://xclient.info/s/magnet.html) - 管理工作空间
- [Maipo](http://weiboformac.sinaapp.com/) - mac 微博客户端
- [Microsoft Edge](https://www.microsoft.com/zh-cn/edge) - 挺香的
- [Motrix](https://motrix.app/zh-CN/) - 下载工具
- [Mounty](https://mounty.app/) - 让 mac 原生支持 NTFS 格式移动盘读写
- [nvm](https://github.com/nvm-sh/nvm) - 管理 node 版本
- [OBS](https://obsproject.com/) - 录制、推流
- [oh-my-zsh](https://ohmyz.sh/) - 快速配置 zsh
- [OpenInEditor-Lite](https://github.com/Ji4n1ng/OpenInTerminal) - 快速打开编辑器，配合 Finder 使用
- [OpenInTerminal-Lite](https://github.com/Ji4n1ng/OpenInTerminal) - 快速打开终端，配合 Finder 使用
- [Paste](https://apps.apple.com/cn/app/paste-clipboard-manager/id967805235) - 剪切板管理工具
- [Postman](https://www.getpostman.com/) - 请求，类似的还有 [postwoman](https://postwoman.io/)，[paw](https://paw.cloud/) 等
- [qBittorrent](https://www.qbittorrent.org/) - 下磁力链接
- [QQ](https://apps.apple.com/cn/app/qq/id444934666)
- [QSpace](https://apps.apple.com/cn/app/qspace/id1469774098?mt=12) - 多视图文件管理，超级右键对 QSpace 不起效
- [ResponsivelyApp](https://github.com/manojVivek/responsively-app) - 同时查看不同屏幕的网页表现
- [SourceTree](https://www.sourcetreeapp.com/) - git gui
- [TeamViewer](https://www.teamviewer.cn/cn/products/teamviewer/) - 远程工具
- [Trello](https://trello.com/platforms) - 看板工具
- [Tencent Lemon](https://lemon.qq.com/) - 清理工具
- [uTools](https://u.tools/) - 全平台支持且体验一致的快捷工具，类似的还有 [alfred](https://www.alfredapp.com/)，但是 alfred 只支持 macOS
- [Visual Studio Code](https://code.visualstudio.com/) - 开发工具，下面有提供个人配置
- [WebStorm](https://www.jetbrains.com/webstorm/) - 开发工具，基本不需要特别配置
- [WPS](https://www.wps.cn/) - 建议重度 office 用户用 windows + ms office

## firefox 插件

- [Gitako](https://addons.mozilla.org/en-US/firefox/addon/gitako-github-file-tree/)
- [Google Lighthouse](https://addons.mozilla.org/zh-CN/firefox/addon/google-lighthouse/)
- [React Developer Tools](https://addons.mozilla.org/zh-CN/firefox/addon/react-devtools/)
- [uBlock Origin](https://addons.mozilla.org/zh-CN/firefox/addon/ublock-origin/) - 配置参考 [cjxlist](https://github.com/cjx82630/cjxlist)
- [Video DownloadHelper](https://addons.mozilla.org/en-US/firefox/addon/video-downloadhelper/)
- [Vue.js devtools](https://addons.mozilla.org/zh-CN/firefox/addon/vue-js-devtools/)

## chrome 插件

- [Gitako](https://chrome.google.com/webstore/detail/gitako/giljefjcheohhamkjphiebfjnlphnokk)
- [Lighthouse](https://chrome.google.com/webstore/detail/lighthouse/blipmdconlkpinefehnmjammfjpmpbjk?hl=zh-CN)
- [React Developer Tools](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi)
- [Suspicious Site Reporter](https://chrome.google.com/webstore/detail/suspicious-site-reporter/jknemblkbdhdcpllfgbfekkdciegfboi) - 显示 https 前缀
- [uBlock Origin](https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm?hl=zh-CN) - 配置参考 [cjxlist](https://github.com/cjx82630/cjxlist)
- [Video DownloadHelper](https://chrome.google.com/webstore/detail/video-downloadhelper/lmjnegcaeklhafolokijcfjliaokphfk)
- [Vue.js devtools](https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd)
- [哔哩哔哩助手：bilibili.com 综合辅助扩展](https://chrome.google.com/webstore/detail/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%8A%A9%E6%89%8B%EF%BC%9Abilibilicom-%E7%BB%BC%E5%90%88%E8%BE%85%E5%8A%A9%E6%89%A9%E5%B1%95/kpbnombpnpcffllnianjibmpadjolanh)

## Homebrew

### 安装

按照[官网](https://brew.sh/index_zh-cn)说明安装。

### 配置镜像源

- 建议使用[清华大学镜像源](https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/)
- [中科大镜像源](https://mirrors.ustc.edu.cn/)
- [阿里云镜像源](https://developer.aliyun.com/mirror/homebrew)

使用 bash 修改`~/.bash_profile`，使用 zsh 修改`~/.zshrc`。建议问使用 oh-my-zsh 需要修改什么的人重新看它的文档。

### 安装依赖

```sh
brew install git
brew install openjdk
brew install openssh
brew install svn
```

### 检查错误

```sh
brew doctor
```

检查错误后可以按照提示进行修复。

## oh-my-zsh

### 安装

首先按照[说明](https://github.com/ohmyzsh/ohmyzsh/wiki/Installing-ZSH)安装 zsh。

之后按照[官网说明](https://ohmyz.sh/#install)安装。

### 配置

打开`~/.zshrc`进行配置。下面给出我个人的配置内容。

```sh
# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH="/Users/wurui/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time oh-my-zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
# See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes
ZSH_THEME="robbyrussell"

# Set list of themes to pick from when loading at random
# Setting this variable when ZSH_THEME=random will cause zsh to load
# a theme from this variable instead of looking in ~/.oh-my-zsh/themes/
# If set to an empty array, this variable will have no effect.
# ZSH_THEME_RANDOM_CANDIDATES=( "robbyrussell" "agnoster" )

# Uncomment the following line to use case-sensitive completion.
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion.
# Case-sensitive completion must be off. _ and - will be interchangeable.
# HYPHEN_INSENSITIVE="true"

# Uncomment the following line to disable bi-weekly auto-update checks.
# DISABLE_AUTO_UPDATE="true"

# Uncomment the following line to automatically update without prompting.
# DISABLE_UPDATE_PROMPT="true"

# Uncomment the following line to change how often to auto-update (in days).
# export UPDATE_ZSH_DAYS=13

# Uncomment the following line if pasting URLs and other text is messed up.
# DISABLE_MAGIC_FUNCTIONS=true

# Uncomment the following line to disable colors in ls.
# DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment the following line to enable command auto-correction.
# ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion.
# COMPLETION_WAITING_DOTS="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# You can set one of the optional three formats:
# "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# or set a custom format using the strftime function format specifications,
# see 'man strftime' for details.
# HIST_STAMPS="mm/dd/yyyy"

# Would you like to use another custom folder than $ZSH/custom?
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load?
# Standard plugins can be found in ~/.oh-my-zsh/plugins/*
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git z vscode zsh-syntax-highlighting zsh-autosuggestions)

source $ZSH/oh-my-zsh.sh

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"

# show user
export DEFAULT_USER="$(whoami)"

# nvm
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# android
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools

# flutter
export PATH=$PATH:$HOME/flutter/bin

# openjdk
export PATH=/usr/local/opt/openjdk/bin:$PATH

# homebrew
export PATH=/usr/local/sbin:$PATH
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles

```

### 主题配置

打开`~/.oh-my-zsh/themes/robbyrussell.zsh-theme`进行修改。

```sh
PROMPT="%(?:%{$fg_bold[green]%}➜ :%{$fg_bold[red]%}➜ )"
PROMPT+=' %{$fg[cyan]%}%c%{$reset_color%} $(git_prompt_info)'

ZSH_THEME_GIT_PROMPT_PREFIX="%{$fg_bold[blue]%}git:(%{$fg[red]%}"
ZSH_THEME_GIT_PROMPT_SUFFIX="%{$reset_color%} "
ZSH_THEME_GIT_PROMPT_DIRTY="%{$fg[blue]%}) %{$fg[yellow]%}✗"
ZSH_THEME_GIT_PROMPT_CLEAN="%{$fg[blue]%})"

```

### 升级

```sh
cd ~/.oh-my-zsh
git stash
upgrade_oh_my_zsh
git stash pop
```

## DNS

### 国内公共 DNS

- [百度 DNS](https://dudns.baidu.com/intro/publicdns/) - `180.76.76.76`，`2400:da00::6666`
- [阿里 DNS](http://alidns.com/) - `223.5.5.5`，`223.6.6.6`，`2400:3200::1`，`2400:3200:baba::1`

### 国外公共 DNS

- [Google DNS](https://developers.google.cn/speed/public-dns/docs/using?hl=zh-CN) - `8.8.8.8`，`8.8.4.4`，`2001:4860:4860::8888`，`2001:4860:4860::8844`
- [Cloudflare DNS](https://developers.cloudflare.com/1.1.1.1/setting-up-1.1.1.1/) - `1.1.1.1`，`1.0.0.1`，`2606:4700:4700::1111`，`2606:4700:4700::1001`

### 配置

打开命令行，ping 一下各个 DNS，看哪个快就优先哪个。你也可以使用[站长工具](http://ping.chinaz.com/)来完成这部分工作。

我自己用的顺序是百度 -> 阿里 -> 谷歌。

```
180.76.76.76
223.5.5.5
223.6.6.6
8.8.8.8
8.8.4.4
2400:da00::6666
2400:3200::1
2400:3200:baba::1
2001:4860:4860::8888
2001:4860:4860::8844
```

## node

### nvm

使用 nvm 可以方便地管理 node 多版本。

- [nvm for macos and linux](https://github.com/nvm-sh/nvm)
- [nvm for windows](https://github.com/coreybutler/nvm-windows) - 由于太久没有更新且存在一定问题，如果只需要单版本，可以考虑直接安装 node 版本，自行设置路径变量

### npm 全局包

```sh
npm i -g @tarojs/cil
npm i -g @umijs/create-umi-app
npm i -g @vue/cli
npm i -g @vue/devtools
npm i -g cgr
npm i -g create-nuxt-app
npm i -g expo-cli
npm i -g np
npm i -g npm@lts
npm i -g npm-check
npm i -g prettier
npm i -g react-devtools
npm i -g ts-node
npm i -g typescript
npm i -g yarn
```

更新时只需要执行全局更新即可。

```sh
npm update -g
```

### 项目初始化

上面有不少依赖会用于项目初始化。假如不想安装全局依赖，你也可以考虑使用 [npx](https://www.ruanyifeng.com/blog/2019/02/npx.html) 或者 [yarn create](https://classic.yarnpkg.com/zh-Hans/docs/cli/create)。

初始化项目时，使用 yarn 来安装依赖，一般会更快速。但是对于某些依赖而言，往往还是非常地慢，尤其是 node-sass。

你可以在项目根目录下建立两个文件，名字和内容分别如下所示。

- `.npmrc`

```sh
registry=https://registry.npm.taobao.org
disturl=https://npm.taobao.org/dist
sass_binary_site=https://npm.taobao.org/mirrors/node-sass/
phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/
electron_mirror=https://npm.taobao.org/mirrors/electron/
electron_builder_binaries_mirror=https://npm.taobao.org/mirrors/electron-builder-binaries/
chromedriver_cdnurl=https://npm.taobao.org/mirrors/chromedriver
operadriver_cdnurl=https://npm.taobao.org/mirrors/operadriver
selenium_cdnurl=https://npm.taobao.org/mirrors/selenium
node_inspector_cdnurl=https://npm.taobao.org/mirrors/node-inspector
fsevents_binary_host_mirror=http://npm.taobao.org/mirrors/fsevents/

```

- `.yarnrc`

```sh
registry "https://registry.npm.taobao.org"
disturl "https://npm.taobao.org/dist"
sass_binary_site "https://npm.taobao.org/mirrors/node-sass/"
phantomjs_cdnurl "https://npm.taobao.org/mirrors/phantomjs/"
electron_mirror "https://npm.taobao.org/mirrors/electron/"
electron_builder_binaries_mirror "https://npm.taobao.org/mirrors/electron-builder-binaries/"
chromedriver_cdnurl "https://npm.taobao.org/mirrors/chromedriver"
operadriver_cdnurl "https://npm.taobao.org/mirrors/operadriver"
selenium_cdnurl "https://npm.taobao.org/mirrors/selenium"
node_inspector_cdnurl "https://npm.taobao.org/mirrors/node-inspector"
fsevents_binary_host_mirror "http://npm.taobao.org/mirrors/fsevents/"

```

之后删掉`node_modules`和对应的版本锁定文件再重新安装依赖。

```sh
rm -rf node_modules && rm -rf yarn.lock && rm -rf package-lock.json
yarn
```

一般接手项目时不应该删掉版本锁定文件。

对于 node-sass，你也可以在`package.json`文件中偷梁换柱。说明见 [npm 官方文档](https://docs.npmjs.com/cli-commands/install.html)`npm install <alias>@npm:<name>`部分和 [yarn 官方文档对应部分](hhttps://classic.yarnpkg.com/en/docs/cli/add/#toc-yarn-add-alias/)。

```json
{
  ...,
  "devDependencies": {
    ...,
    "node-sass": "npm:dart-sass",
    ...
  },
  ...
}
```

## vscode

### 插件列表

- [Ant Design Snippets](https://marketplace.visualstudio.com/items?itemName=bang.antd-snippets) - antd 提示
- [Ant Design Vue helper](https://marketplace.visualstudio.com/items?itemName=ant-design-vue.vscode-ant-design-vue-helper) - antd-vue 提示
- [any-rule](https://marketplace.visualstudio.com/items?itemName=russell.any-rule) - 常用正则集合
- [Bracket Pair Colorizer 2](https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer-2) - 匹配括号颜色
- [Code Runner](https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner) - 运行代码
- [Code Spell Checker](https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker) - 检查拼写，减少写 js 时潜在的错误
- [Debugger for Chrome](https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome)
- [Debugger for Firefox](https://marketplace.visualstudio.com/items?itemName=firefox-devtools.vscode-firefox-debug)
- [Debugger for Microsoft Edge](https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-edge)
- [ES7 React/Redux/GraphQL/React-Native snippets](https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets) - 在 js/ts 中支持 es7 语法下的 react，redux，graphql 和 rn
- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint) - 支持 eslint
- [Highlight Matching Tag](https://marketplace.visualstudio.com/items?itemName=vincaslt.highlight-matching-tag) - 高亮选中的标签及其匹配标签
- [Image preview](https://marketplace.visualstudio.com/items?itemName=kisstkondoros.vscode-gutter-preview) - 预览图片
- [indent-rainbow](https://marketplace.visualstudio.com/items?itemName=oderwat.indent-rainbow) - 缩进用彩虹色分级显示
- [JavaScript (ES6) code snippets](https://marketplace.visualstudio.com/items?itemName=xabikos.JavaScriptSnippets) - es6+ 语法的 js 代码段
- [jQuery Snippets](https://marketplace.visualstudio.com/items?itemName=hridoy.jquery-snippets) - jq 代码段
- [language-stylus](https://marketplace.visualstudio.com/items?itemName=sysoev.language-stylus) - 支持 stylus
- [Less IntelliSense](https://marketplace.visualstudio.com/items?itemName=mrmlnc.vscode-less) - 支持 less
- [Live Server](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer) - 启动一个本地服务器
- [Lorem ipsum](https://marketplace.visualstudio.com/items?itemName=Tyriar.lorem-ipsum) - 生成并插入乱数假文
- [Markdown All in One](https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one) - 增强 Markdown 功能，包括键盘快捷键，目录等
- [Markdown Preview Enhanced](https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced) - 增强 Markdown 预览
- [markdownlint](https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint) - 校验 Markdown 语法
- [Material Icon Theme](https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme) - material 图标主题
- [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) - 支持 prettier
- [React Hooks Snippets](https://marketplace.visualstudio.com/items?itemName=AlDuncanson.react-hooks-snippets) - React Hooks 代码段
- [Sass](https://marketplace.visualstudio.com/items?itemName=Syler.sass-indented) - sass 工具，支持突出显示，自动完成和格式化
- [SCSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=mrmlnc.vscode-scss) - 支持 scss 智能提示
- [Settings Sync](https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync) - 同步配置
- [stylelint](https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint) - 支持 stylelint
- [SVG](https://marketplace.visualstudio.com/items?itemName=jock.svg) - SVG 编码，压缩，美化，预览多合一
- [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss) - tailwindcss 类名提示
- [Todo Tree](https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree) - 高亮提示特定文本
- [uniapp-snippet](https://marketplace.visualstudio.com/items?itemName=dlhtx.uniapp-snippet) - uni-app 代码段提示
- [Vetur](https://marketplace.visualstudio.com/items?itemName=octref.vetur) - vue 官方插件
- [Visual Studio IntelliCode](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode) - 微软官方人工智能辅助开发插件
- [vscode-element-helper](https://marketplace.visualstudio.com/items?itemName=ElemeFE.vscode-element-helper) - element-ui 开发帮助工具
- [vscode-icons](https://marketplace.visualstudio.com/items?itemName=vscode-icons-team.vscode-icons) - 图标主题
- [Vue Peek](https://marketplace.visualstudio.com/items?itemName=dariofuzinato.vue-peek) - 允许对 vue 单文件组件 peek 和 goto definition
- [vuetify-vscode](https://marketplace.visualstudio.com/items?itemName=vuetifyjs.vuetify-vscode) - vuetify 官方插件
- [WakaTime](https://marketplace.visualstudio.com/items?itemName=WakaTime.vscode-wakatime) - 统计打码时间

### `settings.json`

```json
{
  // 插件 Code Spell Checker 使用，指定字典，使得编辑文件时减少额外的拼写错误负担
  "cSpell.userWords": [],
  // vscode 自带功能，指定是否校验 css，这里设置为否，配合插件 stylelint 使用
  "css.validate": false,
  // vscode 自带功能，修改调试控制台的字体族
  "debug.console.fontFamily": "-apple-system, Menlo, 'Source Code Pro', 'Jetbrains Mono', 'Sarasa Mono T SC', 'Fira Code', Monaco, 'Courier New', monospace",
  // vscode 自带功能，控制编辑区在保存文件时的行为，这里设置为全部自动修复
  "editor.codeActionsOnSave": {
    "source.fixAll": true
  },
  // vscode 自带功能，控制编辑区默认使用的格式化工具，这里设置为 prettier，需要安装插件 prettier
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  // vscode 自带功能，修改编辑区的字体族
  "editor.fontFamily": "-apple-system, Menlo, 'Source Code Pro', 'Jetbrains Mono', 'Sarasa Mono T SC', 'Fira Code', Monaco, 'Courier New', monospace",
  // vscode 自带功能，控制编辑区怎么放置 snippet 的提示，这里设置把 snippet 的提示放到所有提示的顶部，配合插件 Visual Studio IntelliCode 使用
  "editor.snippetSuggestions": "top",
  // vscode 自带功能，控制编辑区的提示列表出现时默认选择什么，这里设置默认选择第一个，配合插件 Visual Studio IntelliCode 使用
  "editor.suggestSelection": "first",
  // vscode 自带功能，控制编辑区 1 个 tab 等于多少个空格，这里设置为 2 个
  "editor.tabSize": 2,
  // vscode 自带功能，控制编辑区行太长时是否自动换行，这里设置为是
  "editor.wordWrap": "on",
  // vscode 自带功能，指定语言的解析器
  "emmet.includeLanguages": {
    "javascript": "javascriptreact",
    "typescript": "typescriptreact",
    "json": "jsonc"
  },
  // 插件 ESLint 使用，设置传给 ESLint 的配置，这里设置允许使用修饰符
  "eslint.options": {
    "experimentalDecorators": true
  },
  // 插件 ESLint 使用，设置校验的语言
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact",
    "html",
    "vue",
    "vue-html"
  ],
  // vscode 自带功能，设置文件换行，这里设置为 \n 即 LF
  "files.eol": "\n",
  // vscode 自带功能，指定特定后缀的文件的解析器
  "files.associations": {
    "*.js": "javascriptreact",
    "*.ts": "typescriptreact",
    "*.wxml": "html",
    "*.wxs": "javascriptreact",
    "*.wxss": "css",
    "*.axml": "html",
    "*.sjs": "javascriptreact",
    "*.acss": "css",
    "*.wpy": "html",
    "*.json": "jsonc",
    "*.nvue": "vue",
    "*.ux": "vue"
  },
  // vscode 自带功能，指定是否允许使用修饰器，这里设置为是
  "javascript.implicitProjectConfig.experimentalDecorators": true,
  // vscode 自带功能，指定 js 文件移动时是否自动更新引入，这里设置为是
  "javascript.updateImportsOnFileMove.enabled": "always",
  // vscode 自带功能，指定是否校验 javascript，这里设置为是
  "javascript.validate.enable": true,
  // vscode 自带功能，指定是否校验 less，这里设置为否
  "less.validate": false,
  // 插件 Live Server 使用，指定是否检验标签，这里设置为否
  "liveServer.settings.donotVerifyTags": true,
  // vscode 自带功能，预览 markdown 文件时的字体族
  "markdown.preview.fontFamily": "-apple-system, linkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans',sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",
  // vscode 自带功能，指定是否校验 scss，这里设置为否
  "scss.validate": false,
  // 插件 Setting Sync 使用，指定使用的 github gist
  "sync.gist": "填你自己的",
  // 插件 Todo Tree 使用，指定是否开启高亮，这里设置为是
  "todo-tree.highlights.enabled": true,
  // 插件 Todo Tree 使用，指定特定高亮格式
  "todo-tree.highlights.customHighlight": {
    "FIX": {
      "background": "#d32029",
      "foreground": "#fff",
      "icon": "bug",
      "iconColour": "#d32029"
    },
    "PERF": {
      "background": "#2b4acb",
      "foreground": "#fff",
      "icon": "flame",
      "iconColour": "#2b4acb"
    },
    "TODO": {
      "background": "#d89614",
      "foreground": "#fff",
      "icon": "alert",
      "iconColour": "#d89614"
    }
  },
  // 插件 Todo Tree 使用，指定通用高亮格式
  "todo-tree.highlights.defaultHighlight": {
    "gutterIcon": true
  },
  // 插件 Todo Tree 使用，指定匹配的文本
  "todo-tree.general.tags": ["FIX", "PERF", "TODO"],
  // vscode 自带功能，指定 ts 文件移动时是否自动更新引入，这里设置为是
  "typescript.updateImportsOnFileMove.enabled": "always",
  // 插件 Visual Studio IntelliCode 使用
  "vsintellicode.modify.editor.suggestSelection": "automaticallyOverrodeDefaultValue",
  // vscode 自带功能，指定图标主题，这里设置为 Material Icon Theme，需要安装对应的插件
  "workbench.iconTheme": "material-icon-theme",
  // vscode 自带功能，指定工作台启动时的显示，这里设置为新的未命名文件
  "workbench.startupEditor": "newUntitledFile",
  // vscode 自带功能，指定对应文件的默认格式化工具，需要安装对应的插件
  "[css]": {
    "editor.defaultFormatter": "stylelint.vscode-stylelint"
  },
  "[less]": {
    "editor.defaultFormatter": "stylelint.vscode-stylelint"
  },
  "[scss]": {
    "editor.defaultFormatter": "stylelint.vscode-stylelint"
  },
  "[vue]": {
    "editor.defaultFormatter": "octref.vetur"
  }
}
```

### `Settings Sync`插件

- 安装`Settings Sync`这个插件后，可以把 vscode 的相关配置保存到你的 github gist 上面去，具体操作：`F1 -> Sync: Update/Upload Settings`。插件会为你自动上传相关配置，并自动设置`sync.gist`字段（注意：网络不好可能会上传失败）。

### 代码格式化与校验

文件内`F1 -> Format Document`，就会调用特定的 formatter 格式化第一次，保存时自动格式化第二次。

我的配置是：

- 对 vue 文件，使用`vetur`插件配置中的 formatter 格式化第一次，保存时 ESLint 校验修复第二次。
- 对 css，less，scss 文件，使用`prettier`插件格式化第一次，保存时 Stylelint 校验修复第二次。
- 对 js(x) 和 ts(x) 文件，使用`prettier`插件格式化第一次，保存时 ESLint 校验修复第二次。

如果你的 ESLint 配置中没有代码格式化的部分，你完全可以加入如下的配置。这将会在保存时先使用 ESLint 校验修复，再使用 formatter 格式化。

```json
{
  ...,
  "editor.formatOnSave": true,
  ...
}
```

TSLint 官方已经建议使用 ESLint，所以新项目不要再考虑使用 TSLint 了，旧项目也应该安排升级到 ESLint。

### snippets

安装了`uniapp-snippet`这个插件后，条件编译的部分仍没有相关的提示，需要手动补全，类似地你也可以自己手动补全 taro 的编译提示部分。

点击 vscode 左下角齿轮，点击`User Snippets`，然后选择对应的语言，会自动生成`[语言].json`文件供修改。

下面给出一个示例配置。

`css.json`

```json
{
  // .css 文件和 .vue 文件中的 style 标签内生效
  "uni-app 条件编译格式 - 仅在某平台出现": {
    "prefix": ["uni-ifdef"],
    "body": ["/* #ifdef $0 */", "", "/* #endif */"]
  },
  "uni-app 条件编译格式 - 仅在某平台不出现": {
    "prefix": ["uni-ifndef"],
    "body": ["/* #ifndef $0 */", "", "/* #endif */"]
  },
  "uni-app 小程序平台": {
    "prefix": ["uni-mp"],
    "body": ["MP"]
  },
  "uni-app 微信小程序平台": {
    "prefix": [
      "uni-mp-weixin",
      "uni-mp-wechat",
      "uni-weapp",
      "uni-weixin",
      "uni-wechat"
    ],
    "body": ["MP-WEIXIN"]
  },
  "uni-app 支付宝小程序平台": {
    "prefix": ["uni-mp-alipay", "uni-mp-my", "uni-alipay", "uni-my"],
    "body": ["MP-ALIPAY"]
  },
  "uni-app 百度小程序平台": {
    "prefix": ["uni-mp-baidu", "uni-mp-swan", "uni-baidu", "uni-swan"],
    "body": ["MP-BAIDU"]
  },
  "uni-app 字节跳动小程序平台": {
    "prefix": ["uni-mp-toutiao", "uni-mp-tt", "uni-toutiao", "uni-tt"],
    "body": ["MP-TOUTIAO"]
  },
  "uni-app QQ 小程序平台": {
    "prefix": ["uni-mp-qq", "uni-qq"],
    "body": ["MP-QQ"]
  },
  "uni-app app-plus": {
    "prefix": ["uni-app", "uni-app-plus"],
    "body": ["APP-PLUS"]
  },
  "uni-app app-plus-nvue": {
    "prefix": ["uni-app-nvue", "uni-app-plus-nvue"],
    "body": ["APP-PLUS-NVUE"]
  },
  "uni-app h5": {
    "prefix": ["uni-h5"],
    "body": ["H5"]
  },
  "taro 条件编译格式 - 仅在某平台出现": {
    "prefix": ["taro-ifdef"],
    "body": ["/* #ifdef $0 */", "", "/* #endif */"]
  },
  "taro 条件编译格式 - 仅在某平台不出现": {
    "prefix": ["taro-ifndef"],
    "body": ["/* #ifndef $0 */", "", "/* #endif */"]
  },
  "taro 微信小程序平台": {
    "prefix": [
      "taro-mp-weixin",
      "taro-mp-wechat",
      "taro-weapp",
      "taro-weixin",
      "taro-wechat"
    ],
    "body": ["weapp"]
  },
  "taro 支付宝小程序平台": {
    "prefix": ["taro-mp-alipay", "taro-mp-my", "taro-alipay", "taro-my"],
    "body": ["alipay"]
  },
  "taro 百度小程序平台": {
    "prefix": ["taro-mp-baidu", "taro-mp-swan", "taro-baidu", "taro-swan"],
    "body": ["swan"]
  },
  "taro 字节跳动小程序平台": {
    "prefix": ["taro-mp-toutiao", "taro-mp-tt", "taro-toutiao", "taro-tt"],
    "body": ["tt"]
  },
  "taro QQ 小程序平台": {
    "prefix": ["taro-mp-qq", "taro-qq"],
    "body": ["qq"]
  },
  "taro 快应用平台": {
    "prefix": ["taro-quickapp", "taro-qa"],
    "body": ["quickapp"]
  },
  "taro rn": {
    "prefix": ["taro-rn"],
    "body": ["rn"]
  },
  "taro h5": {
    "prefix": ["taro-h5"],
    "body": ["h5"]
  }
}
```

### `.editorconfig`

[官网链接](https://editorconfig.org/)

```sh
root = true

[*]
charset = utf-8
end_of_line = lf
indent_size = 2
indent_style = space
insert_final_newline = true
trim_trailing_whitespace = true
```

## webstorm

等 webstorm 本地化完成后补充，配置里面英文太多看得头疼。

## hbuilderx

hbuilderx 是一个号称很强的专门用来写 vue 的 ide，但实际体验远比不上 vscode，也比不上 WebStorm，主要原因是它定制化程度比较高，自定义比较难，配套的 uni-app 各种底层低级错误也是让人目瞪口呆。

如果要使用 uni-app 开发 app，就必须使用 hbuilderx 打包，如果只是开发小程序/网页，hbuilderx 不是必须的。个人建议还是使用 vscode 开发，打包 app 时再使用 hbuilderx。

### 题外话

如果 cli 项目使用 [dart-sass](https://www.npmjs.com/package/sass)，记得在`vue.config.js`中设置 sass-loader。

```js
module.exports = {
  css: {
    loaderOptions: {
      scss: {
        sassOptions: {},
      },
    },
  },
};
```

如果 cli 项目使用 [node-sass](https://www.npmjs.com/package/node-sass) ，无需注释，但需要用 node 8 来安装、编译 node-sass。

不建议用前面说到的偷梁换柱的方法，因为不确定会出现什么问题。

### 安装插件

如下的插件应该覆盖到了 cli 项目和非 cli 项目的全部需求。

- `NPM`
- `内置浏览器`
- `内置终端`
- `App真机运行`
- `uni-app编译`
- `uni-app App调试`
- `prettier`
- `stylus-supremacy` - 安装`prettier`会自动安装
- `htmlhint`
- `stylelint`
- `eslint-plugin-vue`
- `eslint-js`
- `typescript语言服务`
- `js压缩`
- `css压缩`
- `less编译`
- `scss/sass编译`
- `stylus编译`
- `es6编译`
- `typescript编译`
- `快应用`
- `Uni-Migration`
- `nml项目/快应用调试`

### 修改配置

修改 hbuilderx 的配置，点击左上角 HBuilderX => 偏好设置 => 源码视图。

```json
{
  "editor.codeassist.px2rem.proportion": "14",
  "editor.colorScheme": "Atom One Dark",
  "editor.fontSize": 14,
  "editor.insertSpaces": true,
  "editor.saveFoldStatus.enabled": true,
  "editor.saveOnFocusLost": true,
  "editor.tabSize": 2,
  "editor.wordWrap": true,
  "eslint-vue.validateOnDocumentChanged": true,
  "eslint-js.validateOnDocumentChanged": true,
  "explorer.iconTheme": "vs-seti"
}
```

### 使用`stylelint`检查、自动修复样式

官方的`stylelint`插件只能检查，而不能自动修复样式，下面示范如何自动修改 scss 的样式。

在项目根目录下新建一个`package.json`文件和一个`vue.config.js`文件，内容分别如下。

`package.json`：

```json
{
  "devDependencies": {
    "stylelint": "^13.0.0",
    "@modyqyw/stylelint-config-scss": "^1.0.0",
    "stylelint-formatter-pretty": "^2.0.0",
    "stylelint-webpack-plugin": "^2.0.0"
  },
  "stylelint": {
    "extends": ["@modyqyw/stylelint-config-scss"]
  }
}
```

`vue.config.js`：

```js
const StylelintWebpackPlugin = require("stylelint-webpack-plugin");
const StylelintFormatter = require("stylelint-formatter-pretty");

module.exports = {
  configureWebpack: {
    plugins: [
      new StylelintWebpackPlugin({
        // 预期 scss 只会写在 vue 和 scss 文件中
        files: ["src/**/*.{vue,scss}"],
        // 自动修复
        fix: true,
        // 指定 formatter
        formatter: StylelintFormatter,
      }),
    ],
  },
};
```

然后在项目根目录下安装依赖。

```sh
npm i
# 如果你使用 yarn
# yarn
```

之后，编译的时候就会检查并尽可能地自动修复 scss 样式代码了。

对于 css 可以使用 @modyqyw/stylelint-config-css，对于 less 可以使用 @modyqyw/stylelint-config-less。

stylelint 不适用于 stylus，但你可以考虑使用 [stylus-supremacy](https://thisismanta.github.io/stylus-supremacy/) 和 [stylint](https://github.com/SimenB/stylint)。

### vue-cli 创建的项目的依赖版本对齐 hbuilderx

如果使用 vue-cli 创建项目来开发 app，注意要对齐项目依赖与 hbuilderx 的依赖，否则打包 app 可能会出现[意外提示](https://ask.dcloud.net.cn/article/35627)。

拿`2.0.0-26820200330001`版本来说：

- 没有`alpha`：对应正式版
- `2.0.0`：v2 版本的编译器
- `268`：对应 hbuilderx 2.6.8
- `20200330`：发布日
- `001`：发布日发布的第 001 版

但是，这不一定是准确的，因为 hbuilderx 本身可能安装了错误的依赖版本（这也是能看出来 dcloudio 团队不甚严谨的一个地方）。最稳妥的办法，就是找到 hbuilderx 目录， 打开 plugins -> uniapp-cli -> `package.json`，确认里面安装的到底是什么依赖版本。

另外，依赖可能本身存在着各类错误，这是 dcloudio 团队自己开发流程不规范导致的，你需要敢于怀疑……

## 参考

- [Awesome-Windows/Awesome](https://github.com/Awesome-Windows/Awesome/blob/master/README-cn.md)
- [jaywcjlove/awesome-mac](https://wangchujiang.com/awesome-mac/index.zh.html)
- [sorrycc/awesome-tools](https://github.com/sorrycc/awesome-tools)
- [微软官方文档 - Windows Server 安装 WSL](https://docs.microsoft.com/zh-cn/windows/wsl/install-on-server)
- [微软官方文档 - Windows 安装 WSL](https://docs.microsoft.com/zh-cn/windows/wsl/install-manual)
- [VSCode 官方文档](https://code.visualstudio.com/docs)
- [Quasar 文档 - VS Code Configuration](https://quasar.dev/start/vs-code-configuration)
- [bootstrap/.editorconfig](https://github.com/twbs/bootstrap/blob/master/.editorconfig)
- [uni-app - 运行并发布到 uni-app](https://uniapp.dcloud.io/quickstart?id=%e8%bf%90%e8%a1%8c%e5%b9%b6%e5%8f%91%e5%b8%83uni-app)
- [uni-app - uni-app 运行环境版本和编译器版本不一致的问题](https://ask.dcloud.net.cn/article/35627)
- [uni-app - 格式化操作和格式化插件配置说明](https://ask.dcloud.net.cn/article/36529)
- [uni-app - hbuilderx 使用 eslint 实时校验、自动修复代码错误](https://ask.dcloud.net.cn/article/37070)

<Vssue />
